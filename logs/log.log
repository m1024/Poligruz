2018-09-11T20:42:13.672Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-11T20:42:13.676Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-11T20:42:13.676Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-11T20:42:13.676Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-11T20:42:34.804Z [ERROR] db: Qery error: { Error: connect ETIMEDOUT 10.11.2.231:5432
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1191:14)
  errno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  address: '10.11.2.231',
  port: 5432 }
2018-09-16T20:52:33.805Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T20:52:33.811Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T20:52:33.813Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T20:52:33.813Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T20:52:54.977Z [ERROR] db: Qery error: { Error: connect ETIMEDOUT 10.11.2.231:5432
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1191:14)
  errno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  address: '10.11.2.231',
  port: 5432 }
2018-09-16T20:57:10.154Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T20:57:10.160Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T20:57:10.161Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T20:57:10.162Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T20:57:31.302Z [ERROR] db: Qery error: { Error: connect ETIMEDOUT 10.11.2.231:5432
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1191:14)
  errno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  address: '10.11.2.231',
  port: 5432 }
2018-09-16T20:59:22.343Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T20:59:22.349Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T20:59:22.349Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T20:59:22.350Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T20:59:22.520Z [ERROR] db: Qery error: { error: ������������ "admin " �� ������ �������� ����������� (�� ������)
    at Connection.parseE (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:119:22)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:601:20)
  name: 'error',
  length: 118,
  severity: '�����',
  code: '28P01',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'auth.c',
  line: '328',
  routine: 'auth_failed' }
2018-09-16T20:59:40.870Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T20:59:40.874Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T20:59:40.875Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T20:59:40.875Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T20:59:41.117Z [ERROR] db: Qery error: { error: ������������ "admin " �� ������ �������� ����������� (�� ������)
    at Connection.parseE (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (C:\Users\glmak\Downloads\Telegram Desktop\Poligruz 1.0.3\node_modules\pg\lib\connection.js:119:22)
    at emitOne (events.js:116:13)
    at Socket.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at Socket.Readable.push (_stream_readable.js:208:10)
    at TCP.onread (net.js:601:20)
  name: 'error',
  length: 118,
  severity: '�����',
  code: '28P01',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'auth.c',
  line: '328',
  routine: 'auth_failed' }
2018-09-16T21:03:09.148Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T21:03:09.152Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T21:03:09.152Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T21:03:09.152Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T21:03:09.258Z [ERROR] db: Qery error: { Error: getaddrinfo ENOTFOUND localhost:5432 localhost:5432:5432
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:67:26)
  errno: 'ENOTFOUND',
  code: 'ENOTFOUND',
  syscall: 'getaddrinfo',
  hostname: 'localhost:5432',
  host: 'localhost:5432',
  port: 5432 }
2018-09-16T21:03:32.184Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-09-16T21:03:32.188Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-09-16T21:03:32.188Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-09-16T21:03:32.189Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-09-16T21:03:32.381Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-09-16T21:04:02.635Z [DEBUG] io: Client connected:  NKBiTB7D9MGy11MHAAAA
2018-09-16T21:04:11.158Z [DEBUG] commands: Command: logon. From: NKBiTB7D9MGy11MHAAAA
2018-09-16T21:04:11.159Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-09-16T21:04:11.206Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-09-16T21:04:11.208Z [DEBUG] commands: Logon granted for: admin. From: NKBiTB7D9MGy11MHAAAA
2018-09-16T21:04:11.209Z [DEBUG] users: Add user: admin, SessionID: 8rtIaz19ulZDZQ_5NegaYamgB5xPl-W7
2018-09-16T21:04:11.210Z [INFO]  users: User admin was added
2018-09-16T21:04:11.210Z [DEBUG] messages: Send command: logon. To: NKBiTB7D9MGy11MHAAAA
2018-09-16T21:04:11.224Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:11.229Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-09-16T21:04:11.232Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-09-16T21:04:11.235Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:11.621Z [DEBUG] io: Client connected:  taeA0sAnxoTZZPehAAAB
2018-09-16T21:04:17.935Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:17.938Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-09-16T21:04:17.939Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-09-16T21:04:17.941Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:18.422Z [DEBUG] io: Client connected:  aKWYEQbs-uBMFoJdAAAC
2018-09-16T21:04:19.837Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:19.839Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-09-16T21:04:19.840Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-09-16T21:04:19.842Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:19.868Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:19.873Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-09-16T21:04:19.874Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-09-16T21:04:19.877Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:20.266Z [DEBUG] io: Client connected:  TKFhjJ0IHu-C-AhhAAAD
2018-09-16T21:04:21.821Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:21.824Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-09-16T21:04:21.825Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-09-16T21:04:21.827Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:21.847Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:21.850Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-09-16T21:04:21.851Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-09-16T21:04:21.855Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:22.285Z [DEBUG] io: Client connected:  wYpPpI2tj5D9Lt3LAAAE
2018-09-16T21:04:23.135Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:23.137Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-09-16T21:04:23.138Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-09-16T21:04:23.140Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:23.164Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:23.166Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-09-16T21:04:23.167Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-09-16T21:04:23.169Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:23.606Z [DEBUG] io: Client connected:  DhADo08gR__dnFDeAAAF
2018-09-16T21:04:23.799Z [DEBUG] commands: Command: getTickets. From: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:23.800Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-09-16T21:04:23.805Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-09-16T21:04:23.805Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:23.808Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-09-16T21:04:23.818Z [DEBUG] messages: Send data: getTickets. To: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:23.867Z [DEBUG] commands: Command: getLoadTypes. From: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:23.867Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-09-16T21:04:23.870Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-09-16T21:04:23.870Z [DEBUG] messages: Send data: getLoadTypes. To: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:24.174Z [DEBUG] commands: Command: getOrganizations. From: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:24.175Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-09-16T21:04:24.177Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-09-16T21:04:24.178Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-09-16T21:04:24.179Z [DEBUG] messages: Send data: getOrganizations. To: DhADo08gR__dnFDeAAAF
2018-09-16T21:04:24.562Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:24.565Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/archive';
2018-09-16T21:04:24.566Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/archive' AND users.user_id=1;
2018-09-16T21:04:24.568Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:24.945Z [DEBUG] io: Client connected:  8BhQR0UcJPqqjBSAAAAG
2018-09-16T21:04:25.137Z [DEBUG] commands: Command: getAchiveTickets. From: 8BhQR0UcJPqqjBSAAAAG
2018-09-16T21:04:25.137Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getAchiveTickets'                 AND users.login = 'admin';
2018-09-16T21:04:25.140Z [DEBUG] commands: Granted command  getAchiveTickets  for user admin
2018-09-16T21:04:25.141Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:25.143Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id > 4 ORDER BY tickets.creation_datetime DESC;
2018-09-16T21:04:25.150Z [DEBUG] messages: Send data: getAchiveTickets. To: 8BhQR0UcJPqqjBSAAAAG
2018-09-16T21:04:25.177Z [DEBUG] commands: Command: getLoadTypes. From: 8BhQR0UcJPqqjBSAAAAG
2018-09-16T21:04:25.177Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-09-16T21:04:25.183Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-09-16T21:04:25.184Z [DEBUG] messages: Send data: getLoadTypes. To: 8BhQR0UcJPqqjBSAAAAG
2018-09-16T21:04:25.744Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:25.746Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/templates';
2018-09-16T21:04:25.749Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/templates' AND users.user_id=1;
2018-09-16T21:04:25.751Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:26.154Z [DEBUG] io: Client connected:  yJ1njYDs3MxAiTZdAAAH
2018-09-16T21:04:27.532Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:27.534Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-09-16T21:04:27.535Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-09-16T21:04:27.540Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:27.561Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:27.565Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-09-16T21:04:27.566Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-09-16T21:04:27.567Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:28.108Z [DEBUG] io: Client connected:  o6qFasTb2X_XnLq3AAAI
2018-09-16T21:04:28.447Z [DEBUG] commands: Command: getPersons. From: o6qFasTb2X_XnLq3AAAI
2018-09-16T21:04:28.447Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-09-16T21:04:28.450Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-09-16T21:04:28.451Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-09-16T21:04:28.452Z [DEBUG] messages: Send data: getPersons. To: o6qFasTb2X_XnLq3AAAI
2018-09-16T21:04:32.295Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:32.299Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-09-16T21:04:32.300Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-09-16T21:04:32.302Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:32.324Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:32.326Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-09-16T21:04:32.328Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-09-16T21:04:32.331Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:32.761Z [DEBUG] io: Client connected:  t--q2qCwyHFQm-64AAAJ
2018-09-16T21:04:45.103Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:45.151Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-09-16T21:04:45.152Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-09-16T21:04:45.153Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:45.578Z [DEBUG] io: Client connected:  CdYflX2LbRYOL7_OAAAK
2018-09-16T21:04:45.665Z [DEBUG] commands: Command: getUsersGroups. From: CdYflX2LbRYOL7_OAAAK
2018-09-16T21:04:45.666Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-09-16T21:04:45.670Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-09-16T21:04:45.671Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-09-16T21:04:45.672Z [DEBUG] messages: Send data: getUsersGroups. To: CdYflX2LbRYOL7_OAAAK
2018-09-16T21:04:45.845Z [DEBUG] commands: Command: getPermissionsTree. From: CdYflX2LbRYOL7_OAAAK
2018-09-16T21:04:45.845Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-09-16T21:04:45.848Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-09-16T21:04:45.848Z [DEBUG] messages: Send data: getPermissionsTree. To: CdYflX2LbRYOL7_OAAAK
2018-09-16T21:04:47.798Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:04:47.800Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-09-16T21:04:47.801Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-09-16T21:04:47.803Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:04:48.126Z [DEBUG] io: Client connected:  6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.227Z [DEBUG] commands: Command: getUsersGroups. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.227Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-09-16T21:04:48.231Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-09-16T21:04:48.232Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-09-16T21:04:48.233Z [DEBUG] messages: Send data: getUsersGroups. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.404Z [DEBUG] commands: Command: getPermissionsTree. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.404Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-09-16T21:04:48.404Z [DEBUG] commands: Command: getUsersGroup. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.404Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroup'                 AND users.login = 'admin';
2018-09-16T21:04:48.404Z [DEBUG] commands: Command: getUsersGroup. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.404Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroup'                 AND users.login = 'admin';
2018-09-16T21:04:48.407Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-09-16T21:04:48.407Z [DEBUG] messages: Send data: getPermissionsTree. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.490Z [DEBUG] commands: Granted command  getUsersGroup  for user admin
2018-09-16T21:04:48.490Z [DEBUG] db: DB query: SELECT * FROM groups WHERE group_id = 1;
2018-09-16T21:04:48.491Z [DEBUG] messages: Send data: getUsersGroup. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.503Z [DEBUG] commands: Granted command  getUsersGroup  for user admin
2018-09-16T21:04:48.504Z [DEBUG] db: DB query: SELECT * FROM groups WHERE group_id = 1;
2018-09-16T21:04:48.504Z [DEBUG] messages: Send data: getUsersGroup. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.693Z [DEBUG] commands: Command: getGroupUsers. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.693Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getGroupUsers'                 AND users.login = 'admin';
2018-09-16T21:04:48.694Z [DEBUG] commands: Command: getUsersGroupPermissions. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.694Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroupPermissions'                 AND users.login = 'admin';
2018-09-16T21:04:48.697Z [DEBUG] commands: Command: getGroupUsers. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.697Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getGroupUsers'                 AND users.login = 'admin';
2018-09-16T21:04:48.698Z [DEBUG] commands: Granted command  getGroupUsers  for user admin
2018-09-16T21:04:48.698Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM groups            INNER JOIN users_groups ON groups.group_id = users_groups.group_id            INNER JOIN users ON users_groups.user_id = users.user_id            INNER JOIN persons ON users.person_id = persons.person_id        WHERE            groups.group_id = 1;
2018-09-16T21:04:48.699Z [DEBUG] commands: Granted command  getUsersGroupPermissions  for user admin
2018-09-16T21:04:48.699Z [DEBUG] db: DB query: SELECT * FROM permissions            INNER JOIN groups_permissions g ON permissions.permission_id = g.permission_id        WHERE g.group_id = 1;
2018-09-16T21:04:48.700Z [DEBUG] commands: Granted command  getGroupUsers  for user admin
2018-09-16T21:04:48.700Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM groups            INNER JOIN users_groups ON groups.group_id = users_groups.group_id            INNER JOIN users ON users_groups.user_id = users.user_id            INNER JOIN persons ON users.person_id = persons.person_id        WHERE            groups.group_id = 1;
2018-09-16T21:04:48.701Z [DEBUG] messages: Send data: getUsersGroupPermissions. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.704Z [DEBUG] messages: Send data: getGroupUsers. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.705Z [DEBUG] messages: Send data: getGroupUsers. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.706Z [DEBUG] commands: Command: getUsersGroupPermissions. From: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:04:48.706Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroupPermissions'                 AND users.login = 'admin';
2018-09-16T21:04:48.708Z [DEBUG] commands: Granted command  getUsersGroupPermissions  for user admin
2018-09-16T21:04:48.708Z [DEBUG] db: DB query: SELECT * FROM permissions            INNER JOIN groups_permissions g ON permissions.permission_id = g.permission_id        WHERE g.group_id = 1;
2018-09-16T21:04:48.709Z [DEBUG] messages: Send data: getUsersGroupPermissions. To: 6_MejWQG4GHES6-4AAAL
2018-09-16T21:05:08.703Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:08.749Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-09-16T21:05:08.750Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-09-16T21:05:08.751Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:08.801Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:08.802Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-09-16T21:05:08.803Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-09-16T21:05:08.804Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:09.283Z [DEBUG] io: Client connected:  m3XPoxLZXP8kEdIZAAAM
2018-09-16T21:05:11.010Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:11.012Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-09-16T21:05:11.014Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-09-16T21:05:11.015Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:11.036Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:11.040Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-09-16T21:05:11.040Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-09-16T21:05:11.042Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:11.382Z [DEBUG] io: Client connected:  EdMlk_WobJ5kjoh6AAAN
2018-09-16T21:05:11.551Z [DEBUG] commands: Command: getPersons. From: EdMlk_WobJ5kjoh6AAAN
2018-09-16T21:05:11.551Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-09-16T21:05:11.556Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-09-16T21:05:11.556Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-09-16T21:05:11.559Z [DEBUG] messages: Send data: getPersons. To: EdMlk_WobJ5kjoh6AAAN
2018-09-16T21:05:12.541Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:12.543Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-09-16T21:05:12.544Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-09-16T21:05:12.546Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:12.567Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:12.569Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-09-16T21:05:12.570Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-09-16T21:05:12.572Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:12.872Z [DEBUG] io: Client connected:  f6Lh4I04kvUdV3kkAAAO
2018-09-16T21:05:13.627Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:13.629Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-09-16T21:05:13.630Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-09-16T21:05:13.632Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:13.997Z [DEBUG] io: Client connected:  VOpoR1xQYx9b4_reAAAP
2018-09-16T21:05:15.579Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:15.581Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-09-16T21:05:15.582Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-09-16T21:05:15.584Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:15.887Z [DEBUG] io: Client connected:  QPX20ZSG5i-kYP9KAAAQ
2018-09-16T21:05:21.394Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:21.397Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-09-16T21:05:21.397Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-09-16T21:05:21.399Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:21.421Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:21.423Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-09-16T21:05:21.424Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-09-16T21:05:21.426Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:21.783Z [DEBUG] io: Client connected:  1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:21.972Z [DEBUG] commands: Command: getTickets. From: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:21.974Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-09-16T21:05:21.977Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-09-16T21:05:21.977Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:21.979Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-09-16T21:05:21.992Z [DEBUG] messages: Send data: getTickets. To: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:22.026Z [DEBUG] commands: Command: getLoadTypes. From: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:22.026Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-09-16T21:05:22.029Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-09-16T21:05:22.029Z [DEBUG] messages: Send data: getLoadTypes. To: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:22.167Z [DEBUG] commands: Command: getOrganizations. From: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:22.167Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-09-16T21:05:22.172Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-09-16T21:05:22.172Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-09-16T21:05:22.173Z [DEBUG] messages: Send data: getOrganizations. To: 1DOsS8lTZo_pAEIkAAAR
2018-09-16T21:05:22.640Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:22.643Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-09-16T21:05:22.644Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-09-16T21:05:22.646Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:22.666Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:05:22.669Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-09-16T21:05:22.669Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-09-16T21:05:22.672Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:05:22.994Z [DEBUG] io: Client connected:  5LfkDwZa_7sbuBy4AAAS
2018-09-16T21:58:38.363Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:58:38.440Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/chats';
2018-09-16T21:58:38.443Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/chats' AND users.user_id=1;
2018-09-16T21:58:38.445Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:58:39.019Z [DEBUG] io: Client connected:  Ad-nkhBd4fbp_RWMAAAT
2018-09-16T21:58:40.247Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:58:40.251Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/contacts';
2018-09-16T21:58:40.252Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/contacts' AND users.user_id=1;
2018-09-16T21:58:40.254Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:58:40.675Z [DEBUG] io: Client connected:  r2ySR7nBa7rnWueXAAAU
2018-09-16T21:58:41.444Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-09-16T21:58:41.447Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-09-16T21:58:41.448Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-09-16T21:58:41.450Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-09-16T21:58:41.785Z [DEBUG] io: Client connected:  Sv6djma8jedymP-lAAAV
2018-09-17T17:18:34.851Z [DEBUG] io: Client connected:  WrB3nsM70eFMwocdAAAW
2018-09-18T17:49:21.424Z [DEBUG] io: Client connected:  6EkKbWBnC7bfd-kdAAAX
2018-10-08T15:26:22.576Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-08T15:26:22.582Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-08T15:26:22.583Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-08T15:26:22.583Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-08T15:26:23.092Z [ERROR] db: Qery error: { error: role "admin" does not exist
    at Connection.parseE (D:\Node\Poligruz\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (D:\Node\Poligruz\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (D:\Node\Poligruz\node_modules\pg\lib\connection.js:119:22)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
  name: 'error',
  length: 97,
  severity: 'FATAL',
  code: '28000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'miscinit.c',
  line: '504',
  routine: 'InitializeSessionUserId' }
2018-10-08T15:27:31.946Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-08T15:27:31.951Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-08T15:27:31.952Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-08T15:27:31.952Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-08T15:27:32.061Z [ERROR] db: Qery error: { error: role "admin" does not exist
    at Connection.parseE (D:\Node\Poligruz\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (D:\Node\Poligruz\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (D:\Node\Poligruz\node_modules\pg\lib\connection.js:119:22)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
  name: 'error',
  length: 97,
  severity: 'FATAL',
  code: '28000',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'miscinit.c',
  line: '504',
  routine: 'InitializeSessionUserId' }
2018-10-08T15:29:09.021Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-08T15:29:09.025Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-08T15:29:09.026Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-08T15:29:09.026Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-08T15:29:09.524Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-08T15:29:18.977Z [DEBUG] io: Client connected:  y71-9KtCrEUeoesMAAAA
2018-10-08T15:29:24.941Z [DEBUG] commands: Command: logon. From: y71-9KtCrEUeoesMAAAA
2018-10-08T15:29:24.941Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-08T15:29:24.974Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-08T15:29:24.986Z [DEBUG] commands: Logon granted for: admin. From: y71-9KtCrEUeoesMAAAA
2018-10-08T15:29:24.987Z [DEBUG] users: Add user: admin, SessionID: AFeYkdWuAlJlHV0qhWmMsKdctqNBwTjH
2018-10-08T15:29:24.987Z [INFO]  users: User admin was added
2018-10-08T15:29:24.988Z [DEBUG] messages: Send command: logon. To: y71-9KtCrEUeoesMAAAA
2018-10-08T15:29:24.998Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:29:25.017Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-08T15:29:25.017Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-08T15:29:25.018Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:29:25.137Z [DEBUG] io: Client connected:  EJA1phhUPvcRVYg4AAAB
2018-10-08T15:29:34.105Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:29:34.106Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-08T15:29:34.107Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-08T15:29:34.108Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:29:34.115Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:29:34.116Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-08T15:29:34.117Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-08T15:29:34.117Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:29:34.222Z [DEBUG] io: Client connected:  7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.292Z [DEBUG] commands: Command: getTickets. From: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.292Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-08T15:29:34.312Z [DEBUG] commands: Command: getLoadTypes. From: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.312Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-08T15:29:34.340Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-08T15:29:34.341Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:29:34.342Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-08T15:29:34.351Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-08T15:29:34.351Z [DEBUG] messages: Send data: getLoadTypes. To: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.394Z [DEBUG] messages: Send data: getTickets. To: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.399Z [DEBUG] commands: Command: getOrganizations. From: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:29:34.399Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-08T15:29:34.400Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-08T15:29:34.400Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-08T15:29:34.401Z [DEBUG] messages: Send data: getOrganizations. To: 7fxZvSBPBdwpAgeNAAAC
2018-10-08T15:36:07.343Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-08T15:36:07.347Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-08T15:36:07.348Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-08T15:36:07.348Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-08T15:36:07.472Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-08T15:39:08.306Z [DEBUG] io: Client connected:  wLta1GdbFE-Y0GNDAAAA
2018-10-08T15:39:15.910Z [DEBUG] commands: Command: logon. From: wLta1GdbFE-Y0GNDAAAA
2018-10-08T15:39:15.910Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-08T15:39:15.930Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-08T15:39:15.931Z [DEBUG] commands: Logon granted for: admin. From: wLta1GdbFE-Y0GNDAAAA
2018-10-08T15:39:15.932Z [DEBUG] users: Add user: admin, SessionID: AFeYkdWuAlJlHV0qhWmMsKdctqNBwTjH
2018-10-08T15:39:15.932Z [INFO]  users: User admin was added
2018-10-08T15:39:15.932Z [DEBUG] messages: Send command: logon. To: wLta1GdbFE-Y0GNDAAAA
2018-10-08T15:39:15.940Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:39:15.943Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-08T15:39:15.944Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-08T15:39:15.945Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:39:16.057Z [DEBUG] io: Client connected:  m9ZSOHe9047LWMscAAAB
2018-10-08T15:39:25.299Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:39:25.301Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-08T15:39:25.302Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-08T15:39:25.303Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:39:25.310Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:39:25.311Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-08T15:39:25.311Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-08T15:39:25.312Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:39:25.424Z [DEBUG] io: Client connected:  yIrsopNSScns0fEYAAAC
2018-10-08T15:39:25.497Z [DEBUG] commands: Command: getPersons. From: yIrsopNSScns0fEYAAAC
2018-10-08T15:39:25.497Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-08T15:39:25.500Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-08T15:39:25.500Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-08T15:39:25.501Z [DEBUG] messages: Send data: getPersons. To: yIrsopNSScns0fEYAAAC
2018-10-08T15:39:27.843Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T15:39:27.844Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-08T15:39:27.844Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-08T15:39:27.845Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T15:39:27.954Z [DEBUG] io: Client connected:  RKvWqxkBncr8KJBzAAAD
2018-10-08T15:39:34.364Z [DEBUG] commands: Command: getReport_dayReport. From: RKvWqxkBncr8KJBzAAAD
2018-10-08T15:39:34.364Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-08T15:39:34.365Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-08T15:39:34.369Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-09 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-08T15:39:34.387Z [DEBUG] messages: Send data: getReport_dayReport. To: RKvWqxkBncr8KJBzAAAD
2018-10-08T16:00:50.864Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T16:00:50.887Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-08T16:00:50.888Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-08T16:00:50.889Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T16:00:50.916Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T16:00:50.917Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-08T16:00:50.918Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-08T16:00:50.918Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T16:00:51.061Z [DEBUG] io: Client connected:  rvsqO5tKnexZLpiGAAAE
2018-10-08T16:00:52.921Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-08T16:00:52.922Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-08T16:00:52.923Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-08T16:00:52.924Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-08T16:00:53.023Z [DEBUG] io: Client connected:  29G-0jupkTaOz7QuAAAF
2018-10-08T16:04:01.896Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-08T16:04:01.901Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-08T16:04:01.901Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-08T16:04:01.902Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-08T16:04:02.030Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-08T16:04:02.060Z [DEBUG] io: Client connected:  pDx4HIR1KspitwIdAAAA
2018-10-08T16:04:02.061Z [DEBUG] messages: Send command: logout. To: pDx4HIR1KspitwIdAAAA
2018-10-08T16:04:02.237Z [DEBUG] io: Client connected:  y_YpV5iH0RnTmOnrAAAB
2018-10-12T15:41:45.670Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-12T15:41:45.690Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-12T15:41:45.691Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-12T15:41:45.691Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-12T15:41:52.015Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-12T15:41:56.997Z [DEBUG] io: Client connected:  kWyYuIYA2-UaIv2qAAAA
2018-10-12T15:42:11.803Z [DEBUG] commands: Command: logon. From: kWyYuIYA2-UaIv2qAAAA
2018-10-12T15:42:11.803Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-12T15:42:11.837Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-12T15:42:11.850Z [DEBUG] commands: Logon granted for: admin. From: kWyYuIYA2-UaIv2qAAAA
2018-10-12T15:42:11.851Z [DEBUG] users: Add user: admin, SessionID: E75hDBFqpQ2HtqDmu28HpH6Fu2ZnMFn-
2018-10-12T15:42:11.870Z [INFO]  users: User admin was added
2018-10-12T15:42:11.871Z [DEBUG] messages: Send command: logon. To: kWyYuIYA2-UaIv2qAAAA
2018-10-12T15:42:11.900Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:42:11.943Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-12T15:42:11.945Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-12T15:42:11.947Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:42:12.168Z [DEBUG] io: Client connected:  XolzxOBYk6-5wW3wAAAB
2018-10-12T15:42:14.129Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:42:14.131Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:42:14.131Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:42:14.132Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:42:14.330Z [DEBUG] io: Client connected:  Wt7HRDijQN6WMLCeAAAC
2018-10-12T15:43:07.838Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:43:07.858Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:43:07.859Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:43:07.860Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:43:08.005Z [DEBUG] io: Client connected:  tA3h0qExGiBbap6yAAAD
2018-10-12T15:43:10.329Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:43:10.333Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:43:10.334Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:43:10.335Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:43:10.456Z [DEBUG] io: Client connected:  ti3ArXvvDKYXt2z-AAAE
2018-10-12T15:46:12.979Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:46:13.004Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:46:13.006Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:46:13.007Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:46:13.177Z [DEBUG] io: Client connected:  pgQdwpK4GHvWrYQcAAAF
2018-10-12T15:46:49.161Z [DEBUG] commands: Command: getReport_dayReport. From: pgQdwpK4GHvWrYQcAAAF
2018-10-12T15:46:49.161Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:46:49.270Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:46:49.273Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-10 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:46:49.348Z [DEBUG] messages: Send data: getReport_dayReport. To: pgQdwpK4GHvWrYQcAAAF
2018-10-12T15:47:33.314Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:47:33.336Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:47:33.337Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:47:33.341Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:47:33.509Z [DEBUG] io: Client connected:  EIiFmgshVypG0t0PAAAG
2018-10-12T15:48:04.940Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:48:04.963Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:48:04.964Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:48:04.965Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:48:05.098Z [DEBUG] io: Client connected:  toHxTpXo0rapq02BAAAH
2018-10-12T15:48:54.604Z [DEBUG] commands: Command: getReport_dayReport. From: toHxTpXo0rapq02BAAAH
2018-10-12T15:48:54.604Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:48:54.628Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:48:54.628Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-11 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:48:54.630Z [DEBUG] messages: Send data: getReport_dayReport. To: toHxTpXo0rapq02BAAAH
2018-10-12T15:55:59.340Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:55:59.371Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:55:59.372Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:55:59.373Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:55:59.513Z [DEBUG] io: Client connected:  Qto6vx8ngv2e9-CyAAAI
2018-10-12T15:56:20.100Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:56:20.122Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:56:20.123Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:56:20.124Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:56:20.257Z [DEBUG] io: Client connected:  uyvnHX2Cl0nnlVR2AAAJ
2018-10-12T15:57:28.527Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:57:28.554Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:57:28.555Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:57:28.556Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:57:28.719Z [DEBUG] io: Client connected:  6k630wVnbdO7Kl3GAAAK
2018-10-12T15:57:54.806Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T15:57:54.843Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T15:57:54.844Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T15:57:54.845Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T15:57:55.008Z [DEBUG] io: Client connected:  3diBSfwHiwIaMYEXAAAL
2018-10-12T15:57:59.293Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:57:59.293Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:57:59.295Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:57:59.295Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-11 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:57:59.298Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:08.877Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:08.877Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:08.879Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:08.879Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-01 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:08.880Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:14.388Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:14.388Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:14.390Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:14.390Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-12 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:14.391Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:16.348Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:16.348Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:16.349Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:16.350Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-20 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:16.351Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:17.814Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:17.814Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:17.816Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:17.816Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-11 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:17.816Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:19.653Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:19.653Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:19.655Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:19.655Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-10 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:19.656Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:22.487Z [DEBUG] commands: Command: getReport_dayReport. From: 3diBSfwHiwIaMYEXAAAL
2018-10-12T15:58:22.487Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T15:58:22.488Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T15:58:22.489Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-24 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T15:58:22.489Z [DEBUG] messages: Send data: getReport_dayReport. To: 3diBSfwHiwIaMYEXAAAL
2018-10-12T16:01:35.811Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T16:01:35.831Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-12T16:01:35.832Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-12T16:01:35.833Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-12T16:01:35.986Z [DEBUG] io: Client connected:  8r66X5Bbxi9ArSJVAAAM
2018-10-12T16:01:49.405Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-12T16:01:49.426Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-12T16:02:21.561Z [DEBUG] commands: Command: getReport_dayReport. From: 8r66X5Bbxi9ArSJVAAAM
2018-10-12T16:02:21.561Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T16:02:21.614Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T16:02:21.615Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-13 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T16:02:21.617Z [DEBUG] messages: Send data: getReport_dayReport. To: 8r66X5Bbxi9ArSJVAAAM
2018-10-12T16:04:05.707Z [DEBUG] commands: Command: getReport_dayReport. From: 8r66X5Bbxi9ArSJVAAAM
2018-10-12T16:04:05.707Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-12T16:04:05.734Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-12T16:04:05.734Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-10 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-12T16:04:05.736Z [DEBUG] messages: Send data: getReport_dayReport. To: 8r66X5Bbxi9ArSJVAAAM
2018-10-13T18:56:43.955Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T18:56:43.965Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T18:56:43.965Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T18:56:43.966Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T18:56:44.789Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T18:56:48.893Z [DEBUG] io: Client connected:  2HA2XVTdTC2r-YQoAAAA
2018-10-13T18:56:54.477Z [DEBUG] commands: Command: logon. From: 2HA2XVTdTC2r-YQoAAAA
2018-10-13T18:56:54.478Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T18:56:54.499Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T18:56:54.520Z [DEBUG] commands: Logon granted for: admin. From: 2HA2XVTdTC2r-YQoAAAA
2018-10-13T18:56:54.521Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T18:56:54.522Z [INFO]  users: User admin was added
2018-10-13T18:56:54.522Z [DEBUG] messages: Send command: logon. To: 2HA2XVTdTC2r-YQoAAAA
2018-10-13T18:56:54.534Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:56:54.572Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T18:56:54.573Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T18:56:54.574Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T18:56:54.900Z [DEBUG] io: Client connected:  0F5vmVP_ha6OhpHlAAAB
2018-10-13T18:56:58.733Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:56:58.736Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T18:56:58.737Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T18:56:58.740Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T18:56:59.101Z [DEBUG] io: Client connected:  WinWclwCB7WPKspNAAAC
2018-10-13T18:57:10.451Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:57:10.506Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T18:57:50.886Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T18:57:50.897Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T18:57:50.900Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T18:57:50.907Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T18:57:51.285Z [DEBUG] io: Client connected:  o94zcF52d49Ntf5MAAAA
2018-10-13T18:57:51.288Z [DEBUG] messages: Send command: logout. To: o94zcF52d49Ntf5MAAAA
2018-10-13T18:57:51.369Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T18:57:52.306Z [DEBUG] io: Client connected:  sE5XQjeI20Icvv94AAAB
2018-10-13T18:57:59.476Z [DEBUG] commands: Command: logon. From: sE5XQjeI20Icvv94AAAB
2018-10-13T18:57:59.478Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T18:57:59.481Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T18:57:59.485Z [DEBUG] commands: Logon granted for: admin. From: sE5XQjeI20Icvv94AAAB
2018-10-13T18:57:59.487Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T18:57:59.489Z [INFO]  users: User admin was added
2018-10-13T18:57:59.490Z [DEBUG] messages: Send command: logon. To: sE5XQjeI20Icvv94AAAB
2018-10-13T18:57:59.509Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:57:59.514Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T18:57:59.516Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T18:57:59.521Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T18:58:00.097Z [DEBUG] io: Client connected:  8epkOgf5mpbh5PJ-AAAC
2018-10-13T18:58:00.139Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:58:00.148Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T18:58:06.886Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:58:06.889Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T18:58:06.892Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T18:58:06.895Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T18:58:07.474Z [DEBUG] io: Client connected:  5ACIducsadO1UFAMAAAD
2018-10-13T18:58:07.518Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T18:58:07.522Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T19:00:16.936Z [DEBUG] commands: Command: getReport_dayReport. From: 5ACIducsadO1UFAMAAAD
2018-10-13T19:00:16.937Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T19:00:17.041Z [DEBUG] commands: Denided command  getReport_dayReport  for user admin
2018-10-13T19:00:17.042Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_dayReport. To: 5ACIducsadO1UFAMAAAD
2018-10-13T19:00:22.241Z [DEBUG] commands: Command: getReport_dayReport. From: 5ACIducsadO1UFAMAAAD
2018-10-13T19:00:22.242Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T19:00:22.247Z [DEBUG] commands: Denided command  getReport_dayReport  for user admin
2018-10-13T19:00:22.248Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_dayReport. To: 5ACIducsadO1UFAMAAAD
2018-10-13T19:00:44.022Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T19:00:44.030Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T19:00:44.032Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T19:00:44.033Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T19:00:44.277Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T19:00:44.596Z [DEBUG] io: Client connected:  7-FzRMBD68iGsxPOAAAA
2018-10-13T19:00:44.599Z [DEBUG] messages: Send command: logout. To: 7-FzRMBD68iGsxPOAAAA
2018-10-13T19:00:45.068Z [DEBUG] io: Client connected:  piqB41ljA4R1ZoIgAAAB
2018-10-13T19:00:51.055Z [DEBUG] commands: Command: logon. From: piqB41ljA4R1ZoIgAAAB
2018-10-13T19:00:51.056Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T19:00:51.059Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T19:00:51.061Z [DEBUG] commands: Logon granted for: admin. From: piqB41ljA4R1ZoIgAAAB
2018-10-13T19:00:51.063Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T19:00:51.064Z [INFO]  users: User admin was added
2018-10-13T19:00:51.064Z [DEBUG] messages: Send command: logon. To: piqB41ljA4R1ZoIgAAAB
2018-10-13T19:00:51.087Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:00:51.092Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T19:00:51.095Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T19:00:51.099Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:00:51.654Z [DEBUG] io: Client connected:  tWvyT55x6BHaBjArAAAC
2018-10-13T19:00:57.306Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:00:57.310Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T19:00:57.312Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T19:00:57.315Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:00:57.612Z [DEBUG] io: Client connected:  cqGPctQxUO3RsaSBAAAD
2018-10-13T19:01:00.876Z [DEBUG] commands: Command: getReport_dayReport. From: cqGPctQxUO3RsaSBAAAD
2018-10-13T19:01:00.877Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T19:01:00.881Z [DEBUG] commands: Denided command  getReport_dayReport  for user admin
2018-10-13T19:01:00.882Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_dayReport. To: cqGPctQxUO3RsaSBAAAD
2018-10-13T19:01:13.020Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:13.060Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:01:13.063Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:01:13.067Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:13.127Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:13.129Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:01:13.131Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:01:13.134Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:13.543Z [DEBUG] io: Client connected:  boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.716Z [DEBUG] commands: Command: getTickets. From: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.718Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:01:13.725Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:01:13.727Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:13.733Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:01:13.776Z [DEBUG] commands: Command: getLoadTypes. From: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.778Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:01:13.826Z [DEBUG] messages: Send data: getTickets. To: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.851Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:01:13.854Z [DEBUG] messages: Send data: getLoadTypes. To: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.940Z [DEBUG] commands: Command: getOrganizations. From: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:13.941Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:01:13.945Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:01:13.947Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:01:13.951Z [DEBUG] messages: Send data: getOrganizations. To: boI4VaKREABeoDiTAAAE
2018-10-13T19:01:17.815Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:17.820Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T19:01:17.823Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T19:01:17.827Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:17.848Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:17.851Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T19:01:17.853Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T19:01:17.856Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:18.287Z [DEBUG] io: Client connected:  bIPniy7miXX8EpQWAAAF
2018-10-13T19:01:19.439Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:19.443Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T19:01:19.447Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T19:01:19.451Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:19.755Z [DEBUG] io: Client connected:  YlCzAl4eqSbW6SS5AAAG
2018-10-13T19:01:21.005Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:21.010Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T19:01:21.013Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T19:01:21.017Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:21.367Z [DEBUG] io: Client connected:  SszVWcfxpK2Bo1GsAAAH
2018-10-13T19:01:22.385Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:22.390Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T19:01:22.393Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T19:01:22.397Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:22.414Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:22.418Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T19:01:22.421Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T19:01:22.425Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:22.711Z [DEBUG] io: Client connected:  pNFvf7lR-bZhAp1AAAAI
2018-10-13T19:01:23.871Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:23.876Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T19:01:23.878Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T19:01:23.882Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:23.901Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:23.904Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T19:01:23.908Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T19:01:23.912Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:24.332Z [DEBUG] io: Client connected:  zI-Q5JNOo-Rsd3owAAAJ
2018-10-13T19:01:24.497Z [DEBUG] commands: Command: getPersons. From: zI-Q5JNOo-Rsd3owAAAJ
2018-10-13T19:01:24.499Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T19:01:24.503Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T19:01:24.505Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T19:01:24.512Z [DEBUG] messages: Send data: getPersons. To: zI-Q5JNOo-Rsd3owAAAJ
2018-10-13T19:01:25.152Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:25.157Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T19:01:25.160Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T19:01:25.164Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:25.187Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:25.192Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T19:01:25.194Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T19:01:25.197Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:25.484Z [DEBUG] io: Client connected:  FNHyE7gPH9ZUZbmnAAAK
2018-10-13T19:01:26.549Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:26.554Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T19:01:26.556Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T19:01:26.560Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:26.578Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:26.582Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T19:01:26.585Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T19:01:26.589Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:26.905Z [DEBUG] io: Client connected:  5XUUppzy8qSYf_OrAAAL
2018-10-13T19:01:27.027Z [DEBUG] commands: Command: getPersons. From: 5XUUppzy8qSYf_OrAAAL
2018-10-13T19:01:27.029Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T19:01:27.033Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T19:01:27.035Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T19:01:27.038Z [DEBUG] messages: Send data: getPersons. To: 5XUUppzy8qSYf_OrAAAL
2018-10-13T19:01:28.925Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:28.929Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:01:28.932Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:01:28.935Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:28.953Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:28.957Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:01:28.959Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:01:28.961Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:29.527Z [DEBUG] io: Client connected:  APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:29.760Z [DEBUG] commands: Command: getTickets. From: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:29.761Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:01:29.765Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:01:29.768Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:29.772Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:01:29.786Z [DEBUG] messages: Send data: getTickets. To: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:29.826Z [DEBUG] commands: Command: getLoadTypes. From: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:29.827Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:01:29.832Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:01:29.834Z [DEBUG] messages: Send data: getLoadTypes. To: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:30.011Z [DEBUG] commands: Command: getOrganizations. From: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:30.013Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:01:30.017Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:01:30.019Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:01:30.021Z [DEBUG] messages: Send data: getOrganizations. To: APQSe_yoCq_wDp_wAAAM
2018-10-13T19:01:30.497Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:30.502Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T19:01:30.504Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T19:01:30.508Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:30.529Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:01:30.534Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T19:01:30.536Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T19:01:30.540Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:01:30.822Z [DEBUG] io: Client connected:  mLajYqnTym1fzVWXAAAN
2018-10-13T19:15:12.879Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T19:15:12.889Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T19:15:12.891Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T19:15:12.892Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T19:15:13.068Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T19:15:16.243Z [DEBUG] io: Client connected:  ZJtiw_n7hnsmcRz-AAAA
2018-10-13T19:15:16.249Z [DEBUG] messages: Send command: logout. To: ZJtiw_n7hnsmcRz-AAAA
2018-10-13T19:15:17.001Z [DEBUG] io: Client connected:  pV1UdurfCKt-NJr2AAAB
2018-10-13T19:15:23.044Z [DEBUG] commands: Command: logon. From: pV1UdurfCKt-NJr2AAAB
2018-10-13T19:15:23.045Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T19:15:23.048Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T19:15:23.051Z [DEBUG] commands: Logon granted for: admin. From: pV1UdurfCKt-NJr2AAAB
2018-10-13T19:15:23.054Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T19:15:23.055Z [INFO]  users: User admin was added
2018-10-13T19:15:23.056Z [DEBUG] messages: Send command: logon. To: pV1UdurfCKt-NJr2AAAB
2018-10-13T19:15:23.075Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:23.080Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T19:15:23.084Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T19:15:23.087Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:23.554Z [DEBUG] io: Client connected:  9jdbwzXr9ypeyQl_AAAC
2018-10-13T19:15:26.976Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:26.980Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:15:26.982Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:15:26.986Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:27.023Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:27.026Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:15:27.029Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:15:27.033Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:27.541Z [DEBUG] io: Client connected:  6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.749Z [DEBUG] commands: Command: getTickets. From: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.751Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:15:27.758Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:15:27.760Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:27.764Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:15:27.777Z [DEBUG] messages: Send data: getTickets. To: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.804Z [DEBUG] commands: Command: getLoadTypes. From: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.806Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:15:27.810Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:15:27.811Z [DEBUG] messages: Send data: getLoadTypes. To: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.920Z [DEBUG] commands: Command: getOrganizations. From: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:27.921Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:15:27.924Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:15:27.925Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:15:27.927Z [DEBUG] messages: Send data: getOrganizations. To: 6B24np5oIJB1PriFAAAD
2018-10-13T19:15:35.769Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:35.773Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T19:15:35.776Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T19:15:35.779Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:35.800Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:35.803Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T19:15:35.806Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T19:15:35.809Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:36.121Z [DEBUG] io: Client connected:  FDxdhiw1YnFz_xrpAAAE
2018-10-13T19:15:37.733Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:37.739Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:15:37.742Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:15:37.745Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:37.766Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:37.770Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:15:37.771Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:15:37.775Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:38.066Z [DEBUG] io: Client connected:  CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.316Z [DEBUG] commands: Command: getTickets. From: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.317Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:15:38.323Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:15:38.324Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:38.327Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:15:38.350Z [DEBUG] messages: Send data: getTickets. To: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.448Z [DEBUG] commands: Command: getLoadTypes. From: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.449Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:15:38.451Z [DEBUG] commands: Command: getOrganizations. From: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.453Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:15:38.456Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:15:38.457Z [DEBUG] messages: Send data: getLoadTypes. To: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:38.512Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:15:38.513Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:15:38.516Z [DEBUG] messages: Send data: getOrganizations. To: CU8z6LeFqrGZo10uAAAF
2018-10-13T19:15:44.334Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:44.338Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T19:15:44.341Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T19:15:44.345Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:44.364Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:44.368Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T19:15:44.371Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T19:15:44.374Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:44.698Z [DEBUG] io: Client connected:  5IB5J5I2ljYxHWVQAAAG
2018-10-13T19:15:47.635Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:47.640Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T19:15:47.642Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T19:15:47.646Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:47.986Z [DEBUG] io: Client connected:  eiZ0tO2vaUvXN16qAAAH
2018-10-13T19:15:48.655Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:48.659Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T19:15:48.663Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T19:15:48.666Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:48.687Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:48.689Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T19:15:48.692Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T19:15:48.697Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:48.995Z [DEBUG] io: Client connected:  FwtyUYa7NGnezNonAAAI
2018-10-13T19:15:49.762Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:49.766Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:15:49.769Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:15:49.772Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:49.791Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:49.793Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:15:49.796Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:15:49.800Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:50.118Z [DEBUG] io: Client connected:  4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.291Z [DEBUG] commands: Command: getTickets. From: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.293Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:15:50.299Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:15:50.301Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:50.305Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:15:50.318Z [DEBUG] messages: Send data: getTickets. To: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.404Z [DEBUG] commands: Command: getLoadTypes. From: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.405Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:15:50.408Z [DEBUG] commands: Command: getOrganizations. From: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.409Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:15:50.411Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:15:50.413Z [DEBUG] messages: Send data: getLoadTypes. To: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:50.472Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:15:50.473Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:15:50.476Z [DEBUG] messages: Send data: getOrganizations. To: 4iu-T9SWbqAK3naOAAAJ
2018-10-13T19:15:51.143Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:51.148Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T19:15:51.151Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T19:15:51.156Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:51.187Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:51.190Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T19:15:51.193Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T19:15:51.198Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:51.675Z [DEBUG] io: Client connected:  TY7jRwas0xkgAYcFAAAK
2018-10-13T19:15:52.685Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:52.689Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T19:15:52.692Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T19:15:52.696Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:52.716Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:52.719Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T19:15:52.722Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T19:15:52.728Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:53.022Z [DEBUG] io: Client connected:  QWSvA8zusOLCwTUeAAAL
2018-10-13T19:15:53.162Z [DEBUG] commands: Command: getPersons. From: QWSvA8zusOLCwTUeAAAL
2018-10-13T19:15:53.163Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T19:15:53.169Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T19:15:53.171Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T19:15:53.175Z [DEBUG] messages: Send data: getPersons. To: QWSvA8zusOLCwTUeAAAL
2018-10-13T19:15:53.758Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:53.761Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T19:15:53.764Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T19:15:53.769Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:53.786Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:53.791Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T19:15:53.794Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T19:15:53.797Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:54.109Z [DEBUG] io: Client connected:  RoCwWw0TlYuqY0nhAAAM
2018-10-13T19:15:54.984Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:54.989Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T19:15:54.992Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T19:15:54.996Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:55.012Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:55.015Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T19:15:55.018Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T19:15:55.020Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:55.363Z [DEBUG] io: Client connected:  m6ckGgXFroOOVrUFAAAN
2018-10-13T19:15:55.519Z [DEBUG] commands: Command: getPersons. From: m6ckGgXFroOOVrUFAAAN
2018-10-13T19:15:55.520Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T19:15:55.525Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T19:15:55.528Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T19:15:55.531Z [DEBUG] messages: Send data: getPersons. To: m6ckGgXFroOOVrUFAAAN
2018-10-13T19:15:56.193Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:56.197Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/organizations';
2018-10-13T19:15:56.201Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/organizations' AND users.user_id=1;
2018-10-13T19:15:56.205Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:56.523Z [DEBUG] io: Client connected:  iDHoejTFIG2gYqUMAAAO
2018-10-13T19:15:56.653Z [DEBUG] commands: Command: getOrganizations. From: iDHoejTFIG2gYqUMAAAO
2018-10-13T19:15:56.655Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:15:56.659Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:15:56.661Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:15:56.667Z [DEBUG] messages: Send data: getOrganizations. To: iDHoejTFIG2gYqUMAAAO
2018-10-13T19:15:58.105Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:15:58.109Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/points';
2018-10-13T19:15:58.111Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/points' AND users.user_id=1;
2018-10-13T19:15:58.115Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:15:58.475Z [DEBUG] io: Client connected:  sFm207TBt3DbFObVAAAP
2018-10-13T19:15:58.539Z [DEBUG] commands: Command: getPoints. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:15:58.541Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoints'                 AND users.login = 'admin';
2018-10-13T19:15:58.545Z [DEBUG] commands: Granted command  getPoints  for user admin
2018-10-13T19:15:58.548Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id
2018-10-13T19:15:58.552Z [DEBUG] messages: Send data: getPoints. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:00.439Z [DEBUG] commands: Command: getStates. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:00.440Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getStates'                 AND users.login = 'admin';
2018-10-13T19:16:00.443Z [DEBUG] commands: Granted command  getStates  for user admin
2018-10-13T19:16:00.445Z [DEBUG] messages: Send data: getStates. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:00.460Z [DEBUG] commands: Command: getLocalities. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:00.461Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLocalities'                 AND users.login = 'admin';
2018-10-13T19:16:00.466Z [DEBUG] commands: Granted command  getLocalities  for user admin
2018-10-13T19:16:00.467Z [DEBUG] messages: Send data: getLocalities. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:29.893Z [DEBUG] commands: Command: getOrganizations. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:29.894Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:16:29.945Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:16:29.945Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:16:29.948Z [DEBUG] messages: Send data: getOrganizations. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:32.690Z [DEBUG] commands: Command: addPoint. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:32.690Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addPoint'                 AND users.login = 'admin';
2018-10-13T19:16:32.693Z [DEBUG] commands: Granted command  addPoint  for user admin
2018-10-13T19:16:32.694Z [DEBUG] db: DB query: INSERT INTO points (organization_id, name, state_id, locality_id, locality_name, address, notes)        VALUES (1, 'Точка1', 1, 1, 'Иваново', 'Адрес1', 'Примечание');
2018-10-13T19:16:32.730Z [DEBUG] messages: Send info message: Точка добавлена. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:32.731Z [DEBUG] messages: Send data: addPoint. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:32.735Z [DEBUG] commands: Command: getPoints. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:32.736Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoints'                 AND users.login = 'admin';
2018-10-13T19:16:32.740Z [DEBUG] commands: Granted command  getPoints  for user admin
2018-10-13T19:16:32.741Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id
2018-10-13T19:16:32.744Z [DEBUG] messages: Send data: getPoints. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:35.040Z [DEBUG] commands: Command: getStates. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:35.041Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getStates'                 AND users.login = 'admin';
2018-10-13T19:16:35.045Z [DEBUG] commands: Granted command  getStates  for user admin
2018-10-13T19:16:35.046Z [DEBUG] messages: Send data: getStates. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:35.054Z [DEBUG] commands: Command: getLocalities. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:35.055Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLocalities'                 AND users.login = 'admin';
2018-10-13T19:16:35.060Z [DEBUG] commands: Granted command  getLocalities  for user admin
2018-10-13T19:16:35.061Z [DEBUG] messages: Send data: getLocalities. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:52.810Z [DEBUG] commands: Command: getOrganizations. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:16:52.811Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:16:52.865Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:16:52.867Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:16:52.870Z [DEBUG] messages: Send data: getOrganizations. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:00.103Z [DEBUG] commands: Command: addPoint. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:00.104Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addPoint'                 AND users.login = 'admin';
2018-10-13T19:17:00.108Z [DEBUG] commands: Granted command  addPoint  for user admin
2018-10-13T19:17:00.109Z [DEBUG] db: DB query: INSERT INTO points (organization_id, name, state_id, locality_id, locality_name, address, notes)        VALUES (2, 'Точка2', 2, 1, 'Яр', 'Точка2', 'вавы');
2018-10-13T19:17:00.118Z [DEBUG] messages: Send info message: Точка добавлена. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:00.119Z [DEBUG] messages: Send data: addPoint. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:00.124Z [DEBUG] commands: Command: getPoints. From: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:00.125Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoints'                 AND users.login = 'admin';
2018-10-13T19:17:00.129Z [DEBUG] commands: Granted command  getPoints  for user admin
2018-10-13T19:17:00.131Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id
2018-10-13T19:17:00.135Z [DEBUG] messages: Send data: getPoints. To: sFm207TBt3DbFObVAAAP
2018-10-13T19:17:03.887Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:17:03.890Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/points';
2018-10-13T19:17:03.892Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/points' AND users.user_id=1;
2018-10-13T19:17:03.895Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:17:04.346Z [DEBUG] io: Client connected:  bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.441Z [DEBUG] commands: Command: getPoints. From: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.442Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoints'                 AND users.login = 'admin';
2018-10-13T19:17:04.446Z [DEBUG] commands: Granted command  getPoints  for user admin
2018-10-13T19:17:04.448Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id
2018-10-13T19:17:04.450Z [DEBUG] messages: Send data: getPoints. To: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.585Z [DEBUG] commands: Command: getPoint. From: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.587Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T19:17:04.592Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T19:17:04.594Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T19:17:04.597Z [DEBUG] messages: Send data: getPoint. To: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.718Z [DEBUG] commands: Command: getStates. From: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.719Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getStates'                 AND users.login = 'admin';
2018-10-13T19:17:04.720Z [DEBUG] commands: Command: getLocalities. From: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.723Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLocalities'                 AND users.login = 'admin';
2018-10-13T19:17:04.727Z [DEBUG] commands: Granted command  getStates  for user admin
2018-10-13T19:17:04.728Z [DEBUG] messages: Send data: getStates. To: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:04.785Z [DEBUG] commands: Granted command  getLocalities  for user admin
2018-10-13T19:17:04.786Z [DEBUG] messages: Send data: getLocalities. To: bkG6_aQJYcNG54ovAAAQ
2018-10-13T19:17:25.234Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:17:25.292Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/points';
2018-10-13T19:17:25.295Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/points' AND users.user_id=1;
2018-10-13T19:17:25.297Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:57:59.084Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T19:57:59.097Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T19:57:59.099Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T19:57:59.100Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T19:57:59.596Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T19:58:08.383Z [DEBUG] io: Client connected:  V9T8RmzRqTaIbo7rAAAA
2018-10-13T19:58:17.091Z [DEBUG] commands: Command: logon. From: V9T8RmzRqTaIbo7rAAAA
2018-10-13T19:58:17.091Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T19:58:17.155Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T19:58:17.190Z [DEBUG] commands: Logon granted for: admin. From: V9T8RmzRqTaIbo7rAAAA
2018-10-13T19:58:17.193Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T19:58:17.193Z [INFO]  users: User admin was added
2018-10-13T19:58:17.194Z [DEBUG] messages: Send command: logon. To: V9T8RmzRqTaIbo7rAAAA
2018-10-13T19:58:17.263Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:17.286Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T19:58:17.290Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T19:58:17.293Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:58:17.705Z [DEBUG] io: Client connected:  -2k2jRHnxUL4wiPTAAAB
2018-10-13T19:58:20.252Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:20.255Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T19:58:20.256Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T19:58:20.258Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:58:20.323Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:20.325Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T19:58:20.326Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T19:58:20.327Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:58:20.736Z [DEBUG] io: Client connected:  s5sSoiRN__sMBEzBAAAC
2018-10-13T19:58:21.043Z [DEBUG] commands: Command: getPersons. From: s5sSoiRN__sMBEzBAAAC
2018-10-13T19:58:21.044Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T19:58:21.074Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T19:58:21.074Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T19:58:21.076Z [DEBUG] messages: Send data: getPersons. To: s5sSoiRN__sMBEzBAAAC
2018-10-13T19:58:22.201Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:22.203Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T19:58:22.205Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T19:58:22.207Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:58:22.241Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:22.243Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T19:58:22.245Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T19:58:22.248Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T19:58:22.632Z [DEBUG] io: Client connected:  Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:22.819Z [DEBUG] commands: Command: getTickets. From: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:22.819Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T19:58:22.824Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T19:58:22.824Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T19:58:22.826Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T19:58:22.887Z [DEBUG] commands: Command: getLoadTypes. From: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:22.888Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T19:58:22.918Z [DEBUG] messages: Send data: getTickets. To: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:22.957Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T19:58:22.957Z [DEBUG] messages: Send data: getLoadTypes. To: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:23.039Z [DEBUG] commands: Command: getOrganizations. From: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T19:58:23.039Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T19:58:23.041Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T19:58:23.041Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T19:58:23.043Z [DEBUG] messages: Send data: getOrganizations. To: Z_fDlnzmbAoIRi9zAAAD
2018-10-13T20:03:40.378Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:03:40.424Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:03:40.426Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:03:40.427Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:03:40.836Z [DEBUG] io: Client connected:  J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.012Z [DEBUG] commands: Command: getTickets. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.012Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:03:41.017Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:03:41.018Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:03:41.020Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:03:41.031Z [DEBUG] messages: Send data: getTickets. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.068Z [DEBUG] commands: Command: getLoadTypes. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.068Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:03:41.071Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:03:41.071Z [DEBUG] messages: Send data: getLoadTypes. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.266Z [DEBUG] commands: Command: getOrganizations. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:41.266Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:03:41.270Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:03:41.270Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:03:41.271Z [DEBUG] messages: Send data: getOrganizations. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:43.086Z [DEBUG] commands: Command: getLoadTypes. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:43.086Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:03:43.089Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:03:43.089Z [DEBUG] messages: Send data: getLoadTypes. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:48.049Z [DEBUG] commands: Command: getOrganizationPoints. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:48.049Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizationPoints'                 AND users.login = 'admin';
2018-10-13T20:03:48.052Z [DEBUG] commands: Granted command  getOrganizationPoints  for user admin
2018-10-13T20:03:48.052Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id        WHERE points.organization_id = 1;
2018-10-13T20:03:48.054Z [DEBUG] messages: Send data: getOrganizationPoints. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:51.969Z [DEBUG] commands: Command: getOrganizationPoints. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:03:51.970Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizationPoints'                 AND users.login = 'admin';
2018-10-13T20:03:51.972Z [DEBUG] commands: Granted command  getOrganizationPoints  for user admin
2018-10-13T20:03:51.972Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id        WHERE points.organization_id = 2;
2018-10-13T20:03:51.973Z [DEBUG] messages: Send data: getOrganizationPoints. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:04.100Z [DEBUG] commands: Command: addTicket. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:04.100Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addTicket'                 AND users.login = 'admin';
2018-10-13T20:04:04.139Z [DEBUG] commands: Granted command  addTicket  for user admin
2018-10-13T20:04:04.140Z [DEBUG] db: DB query: SELECT *,        trim(BOTH FROM p.surname || ' ' || p.name || ' ' || p.patronymic) AS full_snp     FROM users        INNER JOIN persons p ON users.person_id = p.person_id        WHERE users.user_id = 1;
2018-10-13T20:04:04.142Z [DEBUG] db: DB query: INSERT INTO tickets (load_organization_id, load_point_id, unload_organization_id, unload_point_id, weight, volume, creator_person_id, notes, load_type_id)    VALUES (1, 1, 2, 2, 122, 122, 1, '333',1);
2018-10-13T20:04:04.160Z [DEBUG] messages: Send info message: Точка добавлена. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:04.160Z [DEBUG] messages: Send data: addTicket. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:04.160Z [DEBUG] messages: Send Broadcast command: newTicket.
2018-10-13T20:04:04.170Z [DEBUG] commands: Command: getTickets. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:04.171Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:04:04.175Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:04:04.175Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:04:04.177Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:04:04.203Z [DEBUG] messages: Send data: getTickets. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:05.709Z [DEBUG] commands: Command: getLoadTypes. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:05.709Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:04:05.712Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:04:05.712Z [DEBUG] messages: Send data: getLoadTypes. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:08.553Z [DEBUG] commands: Command: getOrganizationPoints. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:08.553Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizationPoints'                 AND users.login = 'admin';
2018-10-13T20:04:08.556Z [DEBUG] commands: Granted command  getOrganizationPoints  for user admin
2018-10-13T20:04:08.556Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id        WHERE points.organization_id = 2;
2018-10-13T20:04:08.558Z [DEBUG] messages: Send data: getOrganizationPoints. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:11.784Z [DEBUG] commands: Command: getOrganizationPoints. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:11.784Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizationPoints'                 AND users.login = 'admin';
2018-10-13T20:04:11.788Z [DEBUG] commands: Granted command  getOrganizationPoints  for user admin
2018-10-13T20:04:11.788Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address        FROM points        INNER JOIN localities l ON points.locality_id = l.locality_id        INNER JOIN states s2 ON points.state_id = s2.state_id        WHERE points.organization_id = 1;
2018-10-13T20:04:11.789Z [DEBUG] messages: Send data: getOrganizationPoints. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:20.734Z [DEBUG] commands: Command: addTicket. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:20.734Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addTicket'                 AND users.login = 'admin';
2018-10-13T20:04:20.736Z [DEBUG] commands: Granted command  addTicket  for user admin
2018-10-13T20:04:20.736Z [DEBUG] db: DB query: SELECT *,        trim(BOTH FROM p.surname || ' ' || p.name || ' ' || p.patronymic) AS full_snp     FROM users        INNER JOIN persons p ON users.person_id = p.person_id        WHERE users.user_id = 1;
2018-10-13T20:04:20.737Z [DEBUG] db: DB query: INSERT INTO tickets (load_organization_id, load_point_id, unload_organization_id, unload_point_id, weight, volume, creator_person_id, notes, load_type_id)    VALUES (2, 2, 1, 1, 32, 333, 1, '45',2);
2018-10-13T20:04:20.738Z [DEBUG] messages: Send info message: Точка добавлена. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:20.739Z [DEBUG] messages: Send data: addTicket. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:20.739Z [DEBUG] messages: Send Broadcast command: newTicket.
2018-10-13T20:04:20.741Z [DEBUG] commands: Command: getTickets. From: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:20.741Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:04:20.743Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:04:20.744Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:04:20.745Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:04:20.750Z [DEBUG] messages: Send data: getTickets. To: J_ELOPg2oT05lbAOAAAE
2018-10-13T20:04:22.272Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:04:22.273Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:04:22.275Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:04:22.276Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:04:22.637Z [DEBUG] io: Client connected:  pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:22.800Z [DEBUG] commands: Command: getTickets. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:22.801Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:04:22.804Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:04:22.804Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:04:22.807Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:04:22.814Z [DEBUG] messages: Send data: getTickets. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:22.856Z [DEBUG] commands: Command: getTicket. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:22.856Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:04:22.859Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:04:22.860Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 1;
2018-10-13T20:04:22.869Z [DEBUG] messages: Send data: getTicket. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.032Z [DEBUG] commands: Command: getLoadTypes. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.032Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:04:23.033Z [DEBUG] commands: Command: getOrganizations. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.034Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:04:23.035Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:04:23.035Z [DEBUG] messages: Send data: getLoadTypes. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.036Z [DEBUG] commands: Command: getOrganization. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.037Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:04:23.038Z [DEBUG] commands: Command: getOrganization. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.039Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:04:23.040Z [DEBUG] commands: Command: getPoint. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.040Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:04:23.041Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:04:23.042Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:04:23.044Z [DEBUG] messages: Send data: getOrganization. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.045Z [DEBUG] commands: Command: getPoint. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.046Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:04:23.047Z [DEBUG] commands: Command: getPerson. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.048Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:04:23.049Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:04:23.049Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:04:23.052Z [DEBUG] messages: Send data: getPoint. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.053Z [DEBUG] commands: Command: getTicketHistory. From: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.053Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:04:23.057Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:04:23.057Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 1;
2018-10-13T20:04:23.067Z [DEBUG] messages: Send data: getTicketHistory. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.139Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:04:23.139Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:04:23.141Z [DEBUG] messages: Send data: getOrganization. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.144Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:04:23.145Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:04:23.146Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:04:23.146Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:04:23.148Z [DEBUG] messages: Send data: getPerson. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.150Z [DEBUG] messages: Send data: getOrganizations. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:23.158Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:04:23.158Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:04:23.161Z [DEBUG] messages: Send data: getPoint. To: pUnZiOIZ6HD3TspSAAAF
2018-10-13T20:04:36.959Z [DEBUG] io: Client connected:  Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.111Z [DEBUG] commands: Command: getTickets. From: Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.111Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:04:37.156Z [DEBUG] commands: Command: getLoadTypes. From: Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.156Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:04:37.198Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:04:37.198Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:04:37.202Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:04:37.232Z [DEBUG] messages: Send data: getTickets. To: Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.309Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:04:37.309Z [DEBUG] messages: Send data: getLoadTypes. To: Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.399Z [DEBUG] commands: Command: getOrganizations. From: Sg23V-EIgfjssegeAAAG
2018-10-13T20:04:37.399Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:04:37.402Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:04:37.403Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:04:37.405Z [DEBUG] messages: Send data: getOrganizations. To: Sg23V-EIgfjssegeAAAG
2018-10-13T20:05:03.166Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:03.239Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:05:03.242Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:05:03.245Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:03.830Z [DEBUG] io: Client connected:  1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.096Z [DEBUG] commands: Command: getTickets. From: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.097Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:05:04.101Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:05:04.102Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:04.104Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:05:04.117Z [DEBUG] messages: Send data: getTickets. To: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.225Z [DEBUG] commands: Command: getLoadTypes. From: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.225Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:05:04.230Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:05:04.230Z [DEBUG] messages: Send data: getLoadTypes. To: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.362Z [DEBUG] commands: Command: getOrganizations. From: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.362Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:05:04.366Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:05:04.366Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:05:04.368Z [DEBUG] messages: Send data: getOrganizations. To: 1gVgz23ifI0D28u1AAAH
2018-10-13T20:05:04.916Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:04.918Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:05:04.920Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:05:04.923Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:05.310Z [DEBUG] io: Client connected:  0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.486Z [DEBUG] commands: Command: getTickets. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.486Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:05:05.490Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:05:05.491Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:05.493Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:05:05.501Z [DEBUG] messages: Send data: getTickets. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.598Z [DEBUG] commands: Command: getTicket. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.599Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:05:05.602Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:05:05.602Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 1;
2018-10-13T20:05:05.610Z [DEBUG] messages: Send data: getTicket. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.762Z [DEBUG] commands: Command: getLoadTypes. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.762Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:05:05.764Z [DEBUG] commands: Command: getOrganization. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.764Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:05:05.766Z [DEBUG] commands: Command: getOrganization. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.766Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:05:05.768Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:05:05.768Z [DEBUG] messages: Send data: getLoadTypes. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.770Z [DEBUG] commands: Command: getPoint. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.770Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:05:05.772Z [DEBUG] commands: Command: getPoint. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.772Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:05:05.773Z [DEBUG] commands: Command: getPerson. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.774Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:05:05.775Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:05:05.776Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:05:05.779Z [DEBUG] commands: Command: getTicketHistory. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.780Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:05:05.781Z [DEBUG] messages: Send data: getPoint. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.783Z [DEBUG] commands: Command: getOrganizations. From: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.784Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:05:05.787Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:05:05.787Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:05:05.789Z [DEBUG] messages: Send data: getOrganizations. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.915Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:05:05.915Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:05:05.916Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:05:05.916Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:05:05.917Z [DEBUG] messages: Send data: getOrganization. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.918Z [DEBUG] messages: Send data: getPerson. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.920Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:05:05.921Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:05:05.922Z [DEBUG] messages: Send data: getOrganization. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.929Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:05:05.929Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:05:05.932Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:05:05.932Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 1;
2018-10-13T20:05:05.933Z [DEBUG] messages: Send data: getPoint. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:05.934Z [DEBUG] messages: Send data: getTicketHistory. To: 0l31kz42stUpv8QaAAAI
2018-10-13T20:05:22.486Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:22.636Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T20:05:22.637Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T20:05:22.639Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:22.655Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:22.659Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:05:22.661Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:05:22.664Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:23.085Z [DEBUG] io: Client connected:  qiJQWanGzj2m3HXzAAAJ
2018-10-13T20:05:24.425Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:24.428Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/users';
2018-10-13T20:05:24.429Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/users' AND users.user_id=1;
2018-10-13T20:05:24.432Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:24.968Z [DEBUG] io: Client connected:  TotG4RZrxVYgDFXWAAAK
2018-10-13T20:05:25.053Z [DEBUG] commands: Command: getUsers. From: TotG4RZrxVYgDFXWAAAK
2018-10-13T20:05:25.053Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:05:25.058Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:05:25.058Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:05:25.060Z [DEBUG] messages: Send data: getUsers. To: TotG4RZrxVYgDFXWAAAK
2018-10-13T20:05:36.452Z [DEBUG] commands: Command: getPersons. From: TotG4RZrxVYgDFXWAAAK
2018-10-13T20:05:36.452Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:05:36.500Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:05:36.500Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:05:36.502Z [DEBUG] messages: Send data: getPersons. To: TotG4RZrxVYgDFXWAAAK
2018-10-13T20:05:44.521Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:44.523Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:05:44.526Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:05:44.528Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:44.998Z [DEBUG] io: Client connected:  a9deUuQJeE-7SS3GAAAL
2018-10-13T20:05:45.074Z [DEBUG] commands: Command: getUsersGroups. From: a9deUuQJeE-7SS3GAAAL
2018-10-13T20:05:45.074Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:05:45.077Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:05:45.078Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:05:45.080Z [DEBUG] messages: Send data: getUsersGroups. To: a9deUuQJeE-7SS3GAAAL
2018-10-13T20:05:45.245Z [DEBUG] commands: Command: getPermissionsTree. From: a9deUuQJeE-7SS3GAAAL
2018-10-13T20:05:45.246Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:05:45.249Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:05:45.250Z [DEBUG] messages: Send data: getPermissionsTree. To: a9deUuQJeE-7SS3GAAAL
2018-10-13T20:05:45.932Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:45.935Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:05:45.936Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:05:45.939Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:46.308Z [DEBUG] io: Client connected:  2ZzkNIEYMCokNvcKAAAM
2018-10-13T20:05:47.045Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:47.048Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/users';
2018-10-13T20:05:47.049Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/users' AND users.user_id=1;
2018-10-13T20:05:47.052Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:47.392Z [DEBUG] io: Client connected:  Nd0Dw84Uiei8-d9dAAAN
2018-10-13T20:05:47.456Z [DEBUG] commands: Command: getUsers. From: Nd0Dw84Uiei8-d9dAAAN
2018-10-13T20:05:47.456Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:05:47.459Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:05:47.460Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:05:47.462Z [DEBUG] messages: Send data: getUsers. To: Nd0Dw84Uiei8-d9dAAAN
2018-10-13T20:05:54.785Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:54.787Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:05:54.789Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:05:54.791Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:55.091Z [DEBUG] io: Client connected:  8jDv6tjP5eyzvICwAAAO
2018-10-13T20:05:56.948Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:56.951Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:05:56.953Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:05:56.956Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:57.295Z [DEBUG] io: Client connected:  vCFX-_8V6hT5bwJZAAAP
2018-10-13T20:05:57.366Z [DEBUG] commands: Command: getUsersGroups. From: vCFX-_8V6hT5bwJZAAAP
2018-10-13T20:05:57.366Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:05:57.369Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:05:57.370Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:05:57.372Z [DEBUG] messages: Send data: getUsersGroups. To: vCFX-_8V6hT5bwJZAAAP
2018-10-13T20:05:57.518Z [DEBUG] commands: Command: getPermissionsTree. From: vCFX-_8V6hT5bwJZAAAP
2018-10-13T20:05:57.518Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:05:57.522Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:05:57.522Z [DEBUG] messages: Send data: getPermissionsTree. To: vCFX-_8V6hT5bwJZAAAP
2018-10-13T20:05:58.083Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:58.085Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T20:05:58.086Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T20:05:58.088Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:58.107Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:05:58.109Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T20:05:58.110Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T20:05:58.112Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:05:58.501Z [DEBUG] io: Client connected:  DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:05:58.719Z [DEBUG] commands: Command: getPersons. From: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:05:58.719Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:05:58.722Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:05:58.723Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:05:58.724Z [DEBUG] messages: Send data: getPersons. To: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:06:17.653Z [DEBUG] commands: Command: addPerson. From: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:06:17.653Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addPerson'                 AND users.login = 'admin';
2018-10-13T20:06:17.738Z [DEBUG] commands: Granted command  addPerson  for user admin
2018-10-13T20:06:17.739Z [DEBUG] db: DB query: INSERT INTO persons (surname, name, patronymic) VALUES ('user', 'user', 'userov');
2018-10-13T20:06:17.759Z [ERROR] db: Qery error: { error: повторяющееся значение ключа нарушает ограничение уникальности "persons_pkey"
    at Connection.parseE (D:\Node\Poligruz\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (D:\Node\Poligruz\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (D:\Node\Poligruz\node_modules\pg\lib\connection.js:119:22)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
  name: 'error',
  length: 293,
  severity: 'ОШИБКА',
  code: '23505',
  detail: 'Ключ "(person_id)=(1)" уже существует.',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'persons',
  column: undefined,
  dataType: undefined,
  constraint: 'persons_pkey',
  file: 'nbtinsert.c',
  line: '434',
  routine: '_bt_check_unique' }
2018-10-13T20:06:17.760Z [DEBUG] messages: Send error message: Ошибка. Невозможно добавить человека.. To: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:49.099Z [DEBUG] commands: Command: addPerson. From: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:49.100Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addPerson'                 AND users.login = 'admin';
2018-10-13T20:07:49.151Z [DEBUG] commands: Granted command  addPerson  for user admin
2018-10-13T20:07:49.151Z [DEBUG] db: DB query: INSERT INTO persons (surname, name, patronymic) VALUES ('user', 'user', 'userovich');
2018-10-13T20:07:49.159Z [DEBUG] messages: Send info message: Человек добавлен. To: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:49.161Z [DEBUG] messages: Send data: addPerson. To: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:49.164Z [DEBUG] commands: Command: getPersons. From: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:49.165Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:07:49.168Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:07:49.168Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:07:49.170Z [DEBUG] messages: Send data: getPersons. To: DX6Y122DBOk3LEFkAAAQ
2018-10-13T20:07:54.866Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:07:54.868Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T20:07:54.869Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T20:07:54.871Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:07:54.937Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:07:54.941Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:07:54.942Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:07:54.944Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:07:55.778Z [DEBUG] io: Client connected:  YwLQsiHeMtJ7t9sWAAAR
2018-10-13T20:07:57.010Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:07:57.013Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:07:57.014Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:07:57.016Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:07:57.465Z [DEBUG] io: Client connected:  lJipUKt8Vdqj1ectAAAS
2018-10-13T20:07:57.693Z [DEBUG] commands: Command: getUsersGroups. From: lJipUKt8Vdqj1ectAAAS
2018-10-13T20:07:57.693Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:07:57.696Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:07:57.696Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:07:57.697Z [DEBUG] messages: Send data: getUsersGroups. To: lJipUKt8Vdqj1ectAAAS
2018-10-13T20:07:57.977Z [DEBUG] commands: Command: getPermissionsTree. From: lJipUKt8Vdqj1ectAAAS
2018-10-13T20:07:57.977Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:07:57.982Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:07:57.983Z [DEBUG] messages: Send data: getPermissionsTree. To: lJipUKt8Vdqj1ectAAAS
2018-10-13T20:07:59.337Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:07:59.339Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/users';
2018-10-13T20:07:59.341Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/users' AND users.user_id=1;
2018-10-13T20:07:59.343Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:07:59.845Z [DEBUG] io: Client connected:  UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:07:59.949Z [DEBUG] commands: Command: getUsers. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:07:59.950Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:07:59.954Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:07:59.955Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:07:59.956Z [DEBUG] messages: Send data: getUsers. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:05.779Z [DEBUG] commands: Command: getPersons. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:05.780Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:08:05.783Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:08:05.784Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:08:05.785Z [DEBUG] messages: Send data: getPersons. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:10.144Z [DEBUG] commands: Command: addUser. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:10.144Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addUser'                 AND users.login = 'admin';
2018-10-13T20:08:10.147Z [DEBUG] commands: Granted command  addUser  for user admin
2018-10-13T20:08:10.147Z [DEBUG] db: DB query: INSERT INTO users (login, password_hash, enable, person_id)        VALUES ('user', '04f8996da763b7a969b1028ee3007569eaf3a635486ddab211d512c85b9df8fb', 'true', '2');
2018-10-13T20:08:10.157Z [ERROR] db: Qery error: { error: повторяющееся значение ключа нарушает ограничение уникальности "users_pkey"
    at Connection.parseE (D:\Node\Poligruz\node_modules\pg\lib\connection.js:553:11)
    at Connection.parseMessage (D:\Node\Poligruz\node_modules\pg\lib\connection.js:378:19)
    at Socket.<anonymous> (D:\Node\Poligruz\node_modules\pg\lib\connection.js:119:22)
    at Socket.emit (events.js:182:13)
    at addChunk (_stream_readable.js:283:12)
    at readableAddChunk (_stream_readable.js:264:11)
    at Socket.Readable.push (_stream_readable.js:219:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
  name: 'error',
  length: 285,
  severity: 'ОШИБКА',
  code: '23505',
  detail: 'Ключ "(user_id)=(1)" уже существует.',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'users',
  column: undefined,
  dataType: undefined,
  constraint: 'users_pkey',
  file: 'nbtinsert.c',
  line: '434',
  routine: '_bt_check_unique' }
2018-10-13T20:08:10.157Z [DEBUG] messages: Send error message: Ошибка. Невозможно добавить пользователя.. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:16.480Z [DEBUG] commands: Command: getPersons. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:16.480Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:08:16.563Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:08:16.563Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:08:16.565Z [DEBUG] messages: Send data: getPersons. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:26.384Z [DEBUG] commands: Command: getPersons. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:26.384Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:08:26.386Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:08:26.386Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:08:26.387Z [DEBUG] messages: Send data: getPersons. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:30.278Z [DEBUG] commands: Command: addUser. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:30.279Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addUser'                 AND users.login = 'admin';
2018-10-13T20:08:30.281Z [DEBUG] commands: Granted command  addUser  for user admin
2018-10-13T20:08:30.281Z [DEBUG] db: DB query: INSERT INTO users (login, password_hash, enable, person_id)        VALUES ('user', '04f8996da763b7a969b1028ee3007569eaf3a635486ddab211d512c85b9df8fb', 'true', '2');
2018-10-13T20:08:30.285Z [DEBUG] messages: Send info message: Пользователь добавлен. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:30.285Z [DEBUG] messages: Send data: addUser. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:30.288Z [DEBUG] commands: Command: getUsers. From: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:30.289Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:08:30.291Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:08:30.291Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:08:30.292Z [DEBUG] messages: Send data: getUsers. To: UxKqcW3uM0cn_ku8AAAT
2018-10-13T20:08:39.252Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:39.256Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:08:39.258Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:08:39.259Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:08:39.330Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:39.331Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:08:39.332Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:08:39.333Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:08:40.050Z [DEBUG] io: Client connected:  qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.317Z [DEBUG] commands: Command: getTickets. From: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.318Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:08:40.321Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:08:40.322Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:40.324Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:08:40.335Z [DEBUG] messages: Send data: getTickets. To: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.382Z [DEBUG] commands: Command: getLoadTypes. From: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.382Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:08:40.386Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:08:40.387Z [DEBUG] messages: Send data: getLoadTypes. To: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.618Z [DEBUG] commands: Command: getOrganizations. From: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:40.618Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:08:40.622Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:08:40.622Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:08:40.625Z [DEBUG] messages: Send data: getOrganizations. To: qYbngsL56hQ5onFTAAAU
2018-10-13T20:08:41.366Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:41.369Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:08:41.370Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:08:41.372Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:08:41.902Z [DEBUG] io: Client connected:  LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.103Z [DEBUG] commands: Command: getTickets. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.103Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:08:42.106Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:08:42.106Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:42.109Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:08:42.117Z [DEBUG] messages: Send data: getTickets. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.161Z [DEBUG] commands: Command: getTicket. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.161Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:08:42.164Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:08:42.165Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 2;
2018-10-13T20:08:42.170Z [DEBUG] messages: Send data: getTicket. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.468Z [DEBUG] commands: Command: getLoadTypes. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.469Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:08:42.471Z [DEBUG] commands: Command: getOrganizations. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.472Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:08:42.473Z [DEBUG] commands: Command: getOrganization. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.473Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:08:42.475Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:08:42.477Z [DEBUG] messages: Send data: getLoadTypes. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.479Z [DEBUG] commands: Command: getOrganization. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.480Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:08:42.481Z [DEBUG] commands: Command: getPoint. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.481Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:08:42.483Z [DEBUG] commands: Command: getPoint. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.483Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:08:42.485Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:08:42.485Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:08:42.488Z [DEBUG] messages: Send data: getOrganization. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.490Z [DEBUG] commands: Command: getPerson. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.490Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:08:42.491Z [DEBUG] commands: Command: getTicketHistory. From: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.491Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:08:42.494Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:08:42.494Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:08:42.496Z [DEBUG] messages: Send data: getPerson. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.623Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:08:42.623Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:08:42.625Z [DEBUG] messages: Send data: getOrganizations. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.645Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:08:42.645Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:08:42.647Z [DEBUG] messages: Send data: getOrganization. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.706Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:08:42.706Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 2;
2018-10-13T20:08:42.708Z [DEBUG] messages: Send data: getTicketHistory. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.712Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:08:42.712Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:08:42.715Z [DEBUG] messages: Send data: getPoint. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:42.720Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:08:42.720Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:08:42.725Z [DEBUG] messages: Send data: getPoint. To: LZSrxr-vlE3dKi-oAAAV
2018-10-13T20:08:55.318Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:55.367Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:08:55.369Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:08:55.373Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:08:55.995Z [DEBUG] io: Client connected:  XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.361Z [DEBUG] commands: Command: getTickets. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.361Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:08:56.366Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:08:56.366Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:08:56.368Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:08:56.405Z [DEBUG] messages: Send data: getTickets. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.561Z [DEBUG] commands: Command: getTicket. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.561Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:08:56.564Z [DEBUG] commands: Command: getLoadTypes. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.564Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:08:56.565Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:08:56.565Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 2;
2018-10-13T20:08:56.619Z [DEBUG] commands: Command: getOrganizations. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.620Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:08:56.623Z [DEBUG] messages: Send data: getTicket. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.700Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:08:56.700Z [DEBUG] messages: Send data: getLoadTypes. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.709Z [DEBUG] commands: Command: getOrganization. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.709Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:08:56.714Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:08:56.714Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:08:56.716Z [DEBUG] messages: Send data: getOrganization. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.717Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:08:56.717Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:08:56.719Z [DEBUG] messages: Send data: getOrganizations. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.853Z [DEBUG] commands: Command: getOrganization. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.853Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:08:56.855Z [DEBUG] commands: Command: getPoint. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.855Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:08:56.857Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:08:56.857Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:08:56.858Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:08:56.858Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:08:56.859Z [DEBUG] messages: Send data: getOrganization. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.861Z [DEBUG] commands: Command: getPoint. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.862Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:08:56.863Z [DEBUG] messages: Send data: getPoint. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.864Z [DEBUG] commands: Command: getPerson. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.864Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:08:56.868Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:08:56.869Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:08:56.870Z [DEBUG] commands: Command: getTicketHistory. From: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.871Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:08:56.872Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:08:56.872Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:08:56.873Z [DEBUG] messages: Send data: getPoint. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.874Z [DEBUG] messages: Send data: getPerson. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:08:56.876Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:08:56.876Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 2;
2018-10-13T20:08:56.877Z [DEBUG] messages: Send data: getTicketHistory. To: XXBc-0Zmp25LxUonAAAW
2018-10-13T20:09:03.043Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:03.045Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:09:03.047Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:09:03.050Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:03.073Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:03.076Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:09:03.078Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:09:03.080Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:03.501Z [DEBUG] io: Client connected:  09Eela4e_bKr4icxAAAX
2018-10-13T20:09:03.886Z [DEBUG] commands: Command: getTickets. From: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:03.886Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:09:03.889Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:09:03.890Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:03.892Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:09:03.905Z [DEBUG] messages: Send data: getTickets. To: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:03.972Z [DEBUG] commands: Command: getLoadTypes. From: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:03.973Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:09:03.977Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:09:03.977Z [DEBUG] messages: Send data: getLoadTypes. To: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:04.135Z [DEBUG] commands: Command: getOrganizations. From: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:04.136Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:09:04.138Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:09:04.138Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:09:04.140Z [DEBUG] messages: Send data: getOrganizations. To: 09Eela4e_bKr4icxAAAX
2018-10-13T20:09:10.998Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:11.000Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations';
2018-10-13T20:09:11.002Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations' AND users.user_id=1;
2018-10-13T20:09:11.004Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:11.023Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:11.025Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/transportations/active';
2018-10-13T20:09:11.027Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/transportations/active' AND users.user_id=1;
2018-10-13T20:09:11.029Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:11.400Z [DEBUG] io: Client connected:  piEIVUPS89y-cni5AAAY
2018-10-13T20:09:13.188Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:13.190Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T20:09:13.191Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T20:09:13.194Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:13.215Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:13.218Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T20:09:13.219Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T20:09:13.222Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:13.693Z [DEBUG] io: Client connected:  EY6HIHiYJrCylZdSAAAZ
2018-10-13T20:09:14.032Z [DEBUG] commands: Command: getPersons. From: EY6HIHiYJrCylZdSAAAZ
2018-10-13T20:09:14.032Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:09:14.036Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:09:14.036Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:09:14.038Z [DEBUG] messages: Send data: getPersons. To: EY6HIHiYJrCylZdSAAAZ
2018-10-13T20:09:15.717Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:15.719Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T20:09:15.721Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T20:09:15.723Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:15.779Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:15.783Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T20:09:15.784Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T20:09:15.786Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:16.158Z [DEBUG] io: Client connected:  dHnve_UUYqFYw-W0AAAa
2018-10-13T20:09:17.387Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:17.389Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:09:17.391Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:09:17.393Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:17.412Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:17.417Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:09:17.420Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:09:17.422Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:17.976Z [DEBUG] io: Client connected:  WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.182Z [DEBUG] commands: Command: getTickets. From: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.183Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:09:18.186Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:09:18.187Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:18.189Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:09:18.200Z [DEBUG] messages: Send data: getTickets. To: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.279Z [DEBUG] commands: Command: getLoadTypes. From: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.279Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:09:18.282Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:09:18.283Z [DEBUG] messages: Send data: getLoadTypes. To: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.472Z [DEBUG] commands: Command: getOrganizations. From: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:18.472Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:09:18.475Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:09:18.476Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:09:18.477Z [DEBUG] messages: Send data: getOrganizations. To: WmZ0AAcPExOa266hAAAb
2018-10-13T20:09:19.577Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:19.579Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T20:09:19.581Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T20:09:19.583Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:19.609Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:19.612Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T20:09:19.613Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T20:09:19.616Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:20.075Z [DEBUG] io: Client connected:  netJj2PkkRab5n--AAAc
2018-10-13T20:09:21.237Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:21.239Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:09:21.242Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:09:21.245Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:21.304Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:21.307Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:09:21.309Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:09:21.312Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:21.775Z [DEBUG] io: Client connected:  o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.010Z [DEBUG] commands: Command: getTickets. From: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.011Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:09:22.015Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:09:22.015Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:22.017Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:09:22.031Z [DEBUG] messages: Send data: getTickets. To: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.064Z [DEBUG] commands: Command: getLoadTypes. From: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.065Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:09:22.068Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:09:22.068Z [DEBUG] messages: Send data: getLoadTypes. To: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.218Z [DEBUG] commands: Command: getOrganizations. From: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.218Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:09:22.221Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:09:22.221Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:09:22.222Z [DEBUG] messages: Send data: getOrganizations. To: o0OSRVTHDJdVGdDHAAAd
2018-10-13T20:09:22.916Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:22.918Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:09:22.920Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:09:22.922Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:23.383Z [DEBUG] io: Client connected:  DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.639Z [DEBUG] commands: Command: getTickets. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.640Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:09:23.643Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:09:23.643Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:23.646Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:09:23.690Z [DEBUG] messages: Send data: getTickets. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.934Z [DEBUG] commands: Command: getTicket. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.934Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:09:23.936Z [DEBUG] commands: Command: getLoadTypes. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.936Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:09:23.938Z [DEBUG] commands: Command: getOrganizations. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.939Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:09:23.940Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:09:23.940Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 2;
2018-10-13T20:09:23.946Z [DEBUG] messages: Send data: getTicket. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.974Z [DEBUG] commands: Command: getOrganization. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:23.974Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:09:23.977Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:09:23.977Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:09:23.978Z [DEBUG] messages: Send data: getOrganization. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.020Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:09:24.020Z [DEBUG] messages: Send data: getLoadTypes. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.032Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:09:24.033Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:09:24.037Z [DEBUG] messages: Send data: getOrganizations. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.081Z [DEBUG] commands: Command: getOrganization. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.082Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:09:24.084Z [DEBUG] commands: Command: getPoint. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.084Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:09:24.085Z [DEBUG] commands: Command: getPoint. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.085Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:09:24.086Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:09:24.086Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:09:24.087Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:09:24.088Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:09:24.089Z [DEBUG] commands: Command: getPerson. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.089Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:09:24.090Z [DEBUG] messages: Send data: getOrganization. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.091Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:09:24.094Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:09:24.097Z [DEBUG] messages: Send data: getPoint. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.099Z [DEBUG] messages: Send data: getPoint. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.101Z [DEBUG] commands: Command: getTicketHistory. From: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.102Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:09:24.105Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:09:24.105Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 2;
2018-10-13T20:09:24.106Z [DEBUG] messages: Send data: getTicketHistory. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:24.173Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:09:24.174Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:09:24.176Z [DEBUG] messages: Send data: getPerson. To: DdwnrxJB9xKfnVS7AAAe
2018-10-13T20:09:35.661Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:35.746Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:09:35.749Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:09:35.751Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:36.155Z [DEBUG] io: Client connected:  -qtr9bbnd9AqK3ypAAAf
2018-10-13T20:09:37.262Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:37.265Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T20:09:37.266Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T20:09:37.268Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:37.288Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:37.291Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:09:37.291Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:09:37.293Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:37.831Z [DEBUG] io: Client connected:  fy1suOywtygeVBjaAAAg
2018-10-13T20:09:39.095Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:39.097Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog';
2018-10-13T20:09:39.099Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog' AND users.user_id=1;
2018-10-13T20:09:39.102Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:39.121Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:39.123Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/catalog/persons';
2018-10-13T20:09:39.125Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/catalog/persons' AND users.user_id=1;
2018-10-13T20:09:39.127Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:39.543Z [DEBUG] io: Client connected:  nJljpVe1jTPCqrJcAAAh
2018-10-13T20:09:39.818Z [DEBUG] commands: Command: getPersons. From: nJljpVe1jTPCqrJcAAAh
2018-10-13T20:09:39.818Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPersons'                 AND users.login = 'admin';
2018-10-13T20:09:39.823Z [DEBUG] commands: Granted command  getPersons  for user admin
2018-10-13T20:09:39.823Z [DEBUG] db: DB query: SELECT        *,        trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp    FROM persons    ORDER BY persons.surname;
2018-10-13T20:09:39.826Z [DEBUG] messages: Send data: getPersons. To: nJljpVe1jTPCqrJcAAAh
2018-10-13T20:09:41.488Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:41.490Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T20:09:41.492Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T20:09:41.494Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:41.515Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:41.518Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:09:41.519Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:09:41.522Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:42.127Z [DEBUG] io: Client connected:  4sTfLo1m0cVb7zoWAAAi
2018-10-13T20:09:43.655Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:43.657Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:09:43.658Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:09:43.661Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:44.089Z [DEBUG] io: Client connected:  hHKTRoeiOnSkv9-XAAAj
2018-10-13T20:09:44.188Z [DEBUG] commands: Command: getUsersGroups. From: hHKTRoeiOnSkv9-XAAAj
2018-10-13T20:09:44.188Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:09:44.192Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:09:44.193Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:09:44.195Z [DEBUG] messages: Send data: getUsersGroups. To: hHKTRoeiOnSkv9-XAAAj
2018-10-13T20:09:44.391Z [DEBUG] commands: Command: getPermissionsTree. From: hHKTRoeiOnSkv9-XAAAj
2018-10-13T20:09:44.391Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:09:44.394Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:09:44.395Z [DEBUG] messages: Send data: getPermissionsTree. To: hHKTRoeiOnSkv9-XAAAj
2018-10-13T20:09:45.145Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:45.148Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/users';
2018-10-13T20:09:45.149Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/users' AND users.user_id=1;
2018-10-13T20:09:45.151Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:45.640Z [DEBUG] io: Client connected:  iWo5xF0gYOEMUTr0AAAk
2018-10-13T20:09:45.914Z [DEBUG] commands: Command: getUsers. From: iWo5xF0gYOEMUTr0AAAk
2018-10-13T20:09:45.915Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:09:45.918Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:09:45.918Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:09:45.920Z [DEBUG] messages: Send data: getUsers. To: iWo5xF0gYOEMUTr0AAAk
2018-10-13T20:09:47.309Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:47.312Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:09:47.313Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:09:47.316Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:47.971Z [DEBUG] io: Client connected:  KGGmqxAOs6mGELMVAAAl
2018-10-13T20:09:48.071Z [DEBUG] commands: Command: getUsersGroups. From: KGGmqxAOs6mGELMVAAAl
2018-10-13T20:09:48.072Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:09:48.075Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:09:48.075Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:09:48.077Z [DEBUG] messages: Send data: getUsersGroups. To: KGGmqxAOs6mGELMVAAAl
2018-10-13T20:09:48.347Z [DEBUG] commands: Command: getPermissionsTree. From: KGGmqxAOs6mGELMVAAAl
2018-10-13T20:09:48.347Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:09:48.351Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:09:48.352Z [DEBUG] messages: Send data: getPermissionsTree. To: KGGmqxAOs6mGELMVAAAl
2018-10-13T20:09:53.628Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:09:53.630Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:09:53.631Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:09:53.634Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:09:54.073Z [DEBUG] io: Client connected:  7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.147Z [DEBUG] commands: Command: getUsersGroups. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.148Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:09:54.151Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:09:54.152Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:09:54.153Z [DEBUG] messages: Send data: getUsersGroups. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.380Z [DEBUG] commands: Command: getPermissionsTree. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.381Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:09:54.382Z [DEBUG] commands: Command: getUsersGroup. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.383Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroup'                 AND users.login = 'admin';
2018-10-13T20:09:54.383Z [DEBUG] commands: Command: getUsersGroup. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.383Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroup'                 AND users.login = 'admin';
2018-10-13T20:09:54.387Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:09:54.387Z [DEBUG] messages: Send data: getPermissionsTree. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.473Z [DEBUG] commands: Granted command  getUsersGroup  for user admin
2018-10-13T20:09:54.473Z [DEBUG] db: DB query: SELECT * FROM groups WHERE group_id = 5;
2018-10-13T20:09:54.475Z [DEBUG] commands: Granted command  getUsersGroup  for user admin
2018-10-13T20:09:54.475Z [DEBUG] db: DB query: SELECT * FROM groups WHERE group_id = 5;
2018-10-13T20:09:54.476Z [DEBUG] messages: Send data: getUsersGroup. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.478Z [DEBUG] messages: Send data: getUsersGroup. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.843Z [DEBUG] commands: Command: getGroupUsers. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.844Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getGroupUsers'                 AND users.login = 'admin';
2018-10-13T20:09:54.845Z [DEBUG] commands: Command: getUsersGroupPermissions. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.846Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroupPermissions'                 AND users.login = 'admin';
2018-10-13T20:09:54.847Z [DEBUG] commands: Command: getGroupUsers. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.847Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getGroupUsers'                 AND users.login = 'admin';
2018-10-13T20:09:54.848Z [DEBUG] commands: Granted command  getGroupUsers  for user admin
2018-10-13T20:09:54.848Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM groups            INNER JOIN users_groups ON groups.group_id = users_groups.group_id            INNER JOIN users ON users_groups.user_id = users.user_id            INNER JOIN persons ON users.person_id = persons.person_id        WHERE            groups.group_id = 5;
2018-10-13T20:09:54.850Z [DEBUG] commands: Granted command  getUsersGroupPermissions  for user admin
2018-10-13T20:09:54.851Z [DEBUG] db: DB query: SELECT * FROM permissions            INNER JOIN groups_permissions g ON permissions.permission_id = g.permission_id        WHERE g.group_id = 5;
2018-10-13T20:09:54.852Z [DEBUG] commands: Granted command  getGroupUsers  for user admin
2018-10-13T20:09:54.852Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM groups            INNER JOIN users_groups ON groups.group_id = users_groups.group_id            INNER JOIN users ON users_groups.user_id = users.user_id            INNER JOIN persons ON users.person_id = persons.person_id        WHERE            groups.group_id = 5;
2018-10-13T20:09:54.854Z [DEBUG] messages: Send data: getGroupUsers. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.855Z [DEBUG] messages: Send data: getUsersGroupPermissions. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.856Z [DEBUG] commands: Command: getUsersGroupPermissions. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.856Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroupPermissions'                 AND users.login = 'admin';
2018-10-13T20:09:54.857Z [DEBUG] messages: Send data: getGroupUsers. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:54.859Z [DEBUG] commands: Granted command  getUsersGroupPermissions  for user admin
2018-10-13T20:09:54.859Z [DEBUG] db: DB query: SELECT * FROM permissions            INNER JOIN groups_permissions g ON permissions.permission_id = g.permission_id        WHERE g.group_id = 5;
2018-10-13T20:09:54.860Z [DEBUG] messages: Send data: getUsersGroupPermissions. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:58.048Z [DEBUG] commands: Command: getNotGroupUsers. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:58.048Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getNotGroupUsers'                 AND users.login = 'admin';
2018-10-13T20:09:58.051Z [DEBUG] commands: Granted command  getNotGroupUsers  for user admin
2018-10-13T20:09:58.051Z [DEBUG] db: DB query: SELECT users.user_id, users.login, users.enable, p.person_id, p.surname, p.name, p.patronymic, p.birth_date, p.avatar, trim(BOTH FROM p.surname || ' ' || p.name || ' ' || p.patronymic) AS full_snp        FROM users            LEFT OUTER JOIN users_groups ug ON users.user_id = ug.user_id            INNER JOIN persons p ON users.person_id = p.person_id            LEFT OUTER JOIN groups g ON ug.group_id = g.group_id        WHERE            g.group_id !=5 OR g.group_id IS NULL;
2018-10-13T20:09:58.054Z [DEBUG] messages: Send data: getNotGroupUsers. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.466Z [DEBUG] commands: Command: addUserToGroup. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.466Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'addUserToGroup'                 AND users.login = 'admin';
2018-10-13T20:09:59.469Z [DEBUG] commands: Granted command  addUserToGroup  for user admin
2018-10-13T20:09:59.469Z [DEBUG] db: DB query: INSERT INTO users_groups (user_id, group_id) VALUES ('2', '5');
2018-10-13T20:09:59.483Z [DEBUG] messages: Send info message: Пользователь добавлен в группу. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.485Z [DEBUG] messages: Send data: addUserToGroup. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.487Z [DEBUG] commands: Command: getUsersGroup. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.488Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroup'                 AND users.login = 'admin';
2018-10-13T20:09:59.490Z [DEBUG] commands: Granted command  getUsersGroup  for user admin
2018-10-13T20:09:59.491Z [DEBUG] db: DB query: SELECT * FROM groups WHERE group_id = 5;
2018-10-13T20:09:59.491Z [DEBUG] messages: Send data: getUsersGroup. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.496Z [DEBUG] commands: Command: getGroupUsers. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.496Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getGroupUsers'                 AND users.login = 'admin';
2018-10-13T20:09:59.500Z [DEBUG] commands: Granted command  getGroupUsers  for user admin
2018-10-13T20:09:59.500Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM groups            INNER JOIN users_groups ON groups.group_id = users_groups.group_id            INNER JOIN users ON users_groups.user_id = users.user_id            INNER JOIN persons ON users.person_id = persons.person_id        WHERE            groups.group_id = 5;
2018-10-13T20:09:59.502Z [DEBUG] messages: Send data: getGroupUsers. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.515Z [DEBUG] commands: Command: getUsersGroupPermissions. From: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:09:59.515Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroupPermissions'                 AND users.login = 'admin';
2018-10-13T20:09:59.518Z [DEBUG] commands: Granted command  getUsersGroupPermissions  for user admin
2018-10-13T20:09:59.519Z [DEBUG] db: DB query: SELECT * FROM permissions            INNER JOIN groups_permissions g ON permissions.permission_id = g.permission_id        WHERE g.group_id = 5;
2018-10-13T20:09:59.520Z [DEBUG] messages: Send data: getUsersGroupPermissions. To: 7c8o2tAF9qMcRHiSAAAm
2018-10-13T20:10:02.520Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:02.522Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T20:10:02.524Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T20:10:02.527Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:02.546Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:02.549Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T20:10:02.552Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T20:10:02.555Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:03.044Z [DEBUG] io: Client connected:  aA5mP6w4T1Gh11F_AAAn
2018-10-13T20:10:04.091Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:04.094Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:10:04.095Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:10:04.098Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:04.118Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:04.120Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:10:04.123Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:10:04.127Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:04.653Z [DEBUG] io: Client connected:  YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:04.909Z [DEBUG] commands: Command: getTickets. From: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:04.910Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:10:04.913Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:10:04.913Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:04.915Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:10:04.926Z [DEBUG] messages: Send data: getTickets. To: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:04.962Z [DEBUG] commands: Command: getLoadTypes. From: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:04.962Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:10:04.965Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:10:04.966Z [DEBUG] messages: Send data: getLoadTypes. To: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:05.128Z [DEBUG] commands: Command: getOrganizations. From: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:05.128Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:10:05.131Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:10:05.131Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:10:05.132Z [DEBUG] messages: Send data: getOrganizations. To: YYlENlD0JfL6HRfUAAAo
2018-10-13T20:10:05.601Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:05.603Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:10:05.604Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:10:05.607Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:06.251Z [DEBUG] io: Client connected:  Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.434Z [DEBUG] commands: Command: getTickets. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.434Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:10:06.438Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:10:06.438Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:06.443Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:10:06.450Z [DEBUG] messages: Send data: getTickets. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.540Z [DEBUG] commands: Command: getTicket. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.541Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:10:06.546Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:10:06.546Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 2;
2018-10-13T20:10:06.551Z [DEBUG] messages: Send data: getTicket. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.871Z [DEBUG] commands: Command: getLoadTypes. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.871Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:10:06.874Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:10:06.875Z [DEBUG] messages: Send data: getLoadTypes. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.877Z [DEBUG] commands: Command: getOrganization. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.877Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:10:06.878Z [DEBUG] commands: Command: getOrganization. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.878Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:10:06.880Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:10:06.880Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:10:06.882Z [DEBUG] commands: Command: getPoint. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.882Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:10:06.883Z [DEBUG] messages: Send data: getOrganization. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.886Z [DEBUG] commands: Command: getPoint. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.886Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:10:06.890Z [DEBUG] commands: Command: getPerson. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.890Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:10:06.892Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:10:06.892Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:10:06.894Z [DEBUG] messages: Send data: getPoint. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.896Z [DEBUG] commands: Command: getTicketHistory. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.896Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:10:06.897Z [DEBUG] commands: Command: getOrganizations. From: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.897Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:10:06.899Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:10:06.899Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 2;
2018-10-13T20:10:06.901Z [DEBUG] messages: Send data: getTicketHistory. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:06.990Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:10:06.990Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:10:06.992Z [DEBUG] messages: Send data: getOrganization. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:07.008Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:10:07.009Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:10:07.023Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:10:07.023Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:10:07.030Z [DEBUG] messages: Send data: getPoint. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:07.032Z [DEBUG] messages: Send data: getOrganizations. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:07.041Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:10:07.042Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:10:07.045Z [DEBUG] messages: Send data: getPerson. To: Kr4yNzjNcznKeLMRAAAp
2018-10-13T20:10:20.349Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:20.396Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin';
2018-10-13T20:10:20.398Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin' AND users.user_id=1;
2018-10-13T20:10:20.399Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:20.414Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:20.417Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/panel';
2018-10-13T20:10:20.417Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/panel' AND users.user_id=1;
2018-10-13T20:10:20.418Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:20.897Z [DEBUG] io: Client connected:  1spxrB6bT5OJvv3wAAAq
2018-10-13T20:10:24.738Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:24.741Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/users';
2018-10-13T20:10:24.742Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/users' AND users.user_id=1;
2018-10-13T20:10:24.744Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:25.312Z [DEBUG] io: Client connected:  VRLylXRquLEEp5dLAAAr
2018-10-13T20:10:25.678Z [DEBUG] commands: Command: getUsers. From: VRLylXRquLEEp5dLAAAr
2018-10-13T20:10:25.679Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsers'                 AND users.login = 'admin';
2018-10-13T20:10:25.684Z [DEBUG] commands: Granted command  getUsers  for user admin
2018-10-13T20:10:25.684Z [DEBUG] db: DB query: SELECT *, trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM users        INNER JOIN persons ON users.person_id = persons.person_id;
2018-10-13T20:10:25.686Z [DEBUG] messages: Send data: getUsers. To: VRLylXRquLEEp5dLAAAr
2018-10-13T20:10:27.974Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:27.977Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/admin/groups';
2018-10-13T20:10:27.979Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/admin/groups' AND users.user_id=1;
2018-10-13T20:10:27.981Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:28.380Z [DEBUG] io: Client connected:  sd6BLQOTMNQ7O_2tAAAs
2018-10-13T20:10:28.460Z [DEBUG] commands: Command: getUsersGroups. From: sd6BLQOTMNQ7O_2tAAAs
2018-10-13T20:10:28.460Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getUsersGroups'                 AND users.login = 'admin';
2018-10-13T20:10:28.463Z [DEBUG] commands: Granted command  getUsersGroups  for user admin
2018-10-13T20:10:28.464Z [DEBUG] db: DB query: SELECT * FROM groups;
2018-10-13T20:10:28.465Z [DEBUG] messages: Send data: getUsersGroups. To: sd6BLQOTMNQ7O_2tAAAs
2018-10-13T20:10:28.734Z [DEBUG] commands: Command: getPermissionsTree. From: sd6BLQOTMNQ7O_2tAAAs
2018-10-13T20:10:28.734Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPermissionsTree'                 AND users.login = 'admin';
2018-10-13T20:10:28.737Z [DEBUG] commands: Granted command  getPermissionsTree  for user admin
2018-10-13T20:10:28.737Z [DEBUG] messages: Send data: getPermissionsTree. To: sd6BLQOTMNQ7O_2tAAAs
2018-10-13T20:10:52.617Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:10:52.695Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:10:52.698Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:10:52.701Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:10:53.239Z [DEBUG] io: Client connected:  RSNC_XZHERDcxZHiAAAt
2018-10-13T20:10:56.508Z [DEBUG] commands: Command: getReport_dayReport. From: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:10:56.508Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:10:56.513Z [DEBUG] commands: Denided command  getReport_dayReport  for user admin
2018-10-13T20:10:56.513Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_dayReport. To: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:21.317Z [DEBUG] commands: Command: getReport_dayReport. From: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:21.317Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:11:21.373Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:11:21.378Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-12 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:11:21.403Z [DEBUG] messages: Send data: getReport_dayReport. To: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:28.011Z [DEBUG] commands: Command: getReport_dayReport. From: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:28.011Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:11:28.014Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:11:28.014Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-02 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:11:28.017Z [DEBUG] messages: Send data: getReport_dayReport. To: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:29.777Z [DEBUG] commands: Command: getReport_dayReport. From: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:29.777Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:11:29.781Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:11:29.781Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-28 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:11:29.783Z [DEBUG] messages: Send data: getReport_dayReport. To: RSNC_XZHERDcxZHiAAAt
2018-10-13T20:11:58.595Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T20:11:58.612Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T20:11:58.619Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T20:11:58.621Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T20:11:59.049Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T20:11:59.831Z [DEBUG] io: Client connected:  wJaQg8sZJUt6kohiAAAA
2018-10-13T20:11:59.839Z [DEBUG] messages: Send command: logout. To: wJaQg8sZJUt6kohiAAAA
2018-10-13T20:12:00.773Z [DEBUG] io: Client connected:  fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:08.144Z [DEBUG] commands: Command: logon. From: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:08.145Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '835d6dc88b708bc646d6db82c853ef4182fabbd4a8de59c213f2b5ab3ae7d9be' AND enable = TRUE;
2018-10-13T20:12:08.147Z [DEBUG] commands: Logon denided for: admin. From: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:08.147Z [DEBUG] messages: Send error message: Такие имя пользователя и пароль не найдены.. To: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:15.265Z [DEBUG] commands: Command: logon. From: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:15.265Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '835d6dc88b708bc646d6db82c853ef4182fabbd4a8de59c213f2b5ab3ae7d9be' AND enable = TRUE;
2018-10-13T20:12:15.266Z [DEBUG] commands: Logon denided for: admin. From: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:15.266Z [DEBUG] messages: Send error message: Такие имя пользователя и пароль не найдены.. To: fjsC4pFyEp1SOkO5AAAB
2018-10-13T20:12:18.123Z [DEBUG] io: Client connected:  48rWja2kfPvE4YQ7AAAC
2018-10-13T20:12:27.133Z [DEBUG] commands: Command: logon. From: 48rWja2kfPvE4YQ7AAAC
2018-10-13T20:12:27.133Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T20:12:27.187Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T20:12:27.190Z [DEBUG] commands: Logon granted for: admin. From: 48rWja2kfPvE4YQ7AAAC
2018-10-13T20:12:27.193Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T20:12:27.194Z [INFO]  users: User admin was added
2018-10-13T20:12:27.194Z [DEBUG] messages: Send command: logon. To: 48rWja2kfPvE4YQ7AAAC
2018-10-13T20:12:27.219Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:12:27.223Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:12:27.226Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:12:27.229Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:12:27.856Z [DEBUG] io: Client connected:  oZqR8NwI4rsNBQd8AAAD
2018-10-13T20:12:29.657Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:12:29.660Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:12:29.661Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:12:29.663Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:12:30.166Z [DEBUG] io: Client connected:  6y9QF-3543iJSBQoAAAE
2018-10-13T20:12:45.276Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:12:45.386Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:13:30.693Z [DEBUG] commands: Command: getReport_dayReport. From: 6y9QF-3543iJSBQoAAAE
2018-10-13T20:13:30.694Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:13:30.798Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:13:30.805Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-31 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:13:30.809Z [DEBUG] messages: Send data: getReport_dayReport. To: 6y9QF-3543iJSBQoAAAE
2018-10-13T20:21:53.746Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T20:21:53.756Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T20:21:53.757Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T20:21:53.758Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T20:21:54.163Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T20:21:54.214Z [DEBUG] io: Client connected:  hbU_gBUo3sy54iEcAAAA
2018-10-13T20:21:54.217Z [DEBUG] messages: Send command: logout. To: hbU_gBUo3sy54iEcAAAA
2018-10-13T20:21:56.017Z [DEBUG] io: Client connected:  PTDHj5yx5nVFfepyAAAB
2018-10-13T20:22:03.493Z [DEBUG] commands: Command: logon. From: PTDHj5yx5nVFfepyAAAB
2018-10-13T20:22:03.493Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T20:22:03.506Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T20:22:03.524Z [DEBUG] commands: Logon granted for: admin. From: PTDHj5yx5nVFfepyAAAB
2018-10-13T20:22:03.525Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T20:22:03.525Z [INFO]  users: User admin was added
2018-10-13T20:22:03.525Z [DEBUG] messages: Send command: logon. To: PTDHj5yx5nVFfepyAAAB
2018-10-13T20:22:03.553Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:22:03.556Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:22:03.558Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:22:03.561Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:22:04.392Z [DEBUG] io: Client connected:  8kFpWGbBeLZqirBqAAAC
2018-10-13T20:22:04.440Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:22:04.443Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:22:07.147Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:22:07.150Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:22:07.151Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:22:07.153Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:22:07.881Z [DEBUG] io: Client connected:  Q8Aq1SSovAxhcdv5AAAD
2018-10-13T20:22:07.931Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:22:07.933Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:26:18.064Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T20:26:18.070Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T20:26:18.071Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T20:26:18.072Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T20:26:18.473Z [DEBUG] io: Client connected:  qkKqnNV4R2ZvbLqMAAAA
2018-10-13T20:26:18.500Z [DEBUG] messages: Send command: logout. To: qkKqnNV4R2ZvbLqMAAAA
2018-10-13T20:26:18.605Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T20:26:20.018Z [DEBUG] io: Client connected:  JF4J1own5d6NDRx1AAAB
2018-10-13T20:26:27.033Z [DEBUG] commands: Command: logon. From: JF4J1own5d6NDRx1AAAB
2018-10-13T20:26:27.033Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T20:26:27.036Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T20:26:27.038Z [DEBUG] commands: Logon granted for: admin. From: JF4J1own5d6NDRx1AAAB
2018-10-13T20:26:27.039Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T20:26:27.039Z [INFO]  users: User admin was added
2018-10-13T20:26:27.039Z [DEBUG] messages: Send command: logon. To: JF4J1own5d6NDRx1AAAB
2018-10-13T20:26:27.056Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:26:27.060Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:26:27.062Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:26:27.065Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:26:27.796Z [DEBUG] io: Client connected:  QSYowIAiOqyhKnVfAAAC
2018-10-13T20:26:27.855Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:26:27.857Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:26:34.125Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:26:34.128Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:26:34.129Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:26:34.132Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:26:34.979Z [DEBUG] io: Client connected:  JXlg4Y-chaUO0kptAAAD
2018-10-13T20:26:35.031Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:26:35.033Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:26:59.352Z [DEBUG] commands: Command: getReport_dayReport. From: JXlg4Y-chaUO0kptAAAD
2018-10-13T20:26:59.353Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:26:59.454Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:26:59.460Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-14 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:26:59.503Z [DEBUG] messages: Send data: getReport_dayReport. To: JXlg4Y-chaUO0kptAAAD
2018-10-13T20:28:13.189Z [DEBUG] commands: Command: getReport_dayReport. From: JXlg4Y-chaUO0kptAAAD
2018-10-13T20:28:13.189Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:28:13.240Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:28:13.240Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-18 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:28:13.244Z [DEBUG] messages: Send data: getReport_dayReport. To: JXlg4Y-chaUO0kptAAAD
2018-10-13T20:28:29.719Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:28:29.757Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:28:29.758Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:28:29.760Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:28:30.494Z [DEBUG] io: Client connected:  XxRlCeUzmP85-epxAAAE
2018-10-13T20:28:30.544Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:28:30.547Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:29:06.455Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:29:06.503Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:29:06.505Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:29:06.507Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:29:07.267Z [DEBUG] io: Client connected:  CPvtYXjXZ2WAHFnPAAAF
2018-10-13T20:29:07.315Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:29:07.318Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:38:28.482Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T20:38:28.490Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T20:38:28.491Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T20:38:28.492Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T20:38:28.869Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T20:38:28.962Z [DEBUG] io: Client connected:  Hn_DD29xlnGC8CrTAAAA
2018-10-13T20:38:28.963Z [DEBUG] messages: Send command: logout. To: Hn_DD29xlnGC8CrTAAAA
2018-10-13T20:38:30.039Z [DEBUG] io: Client connected:  2JKsT_eM5lCJp_KYAAAB
2018-10-13T20:38:37.812Z [DEBUG] commands: Command: logon. From: 2JKsT_eM5lCJp_KYAAAB
2018-10-13T20:38:37.813Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T20:38:37.815Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T20:38:37.817Z [DEBUG] commands: Logon granted for: admin. From: 2JKsT_eM5lCJp_KYAAAB
2018-10-13T20:38:37.818Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T20:38:37.818Z [INFO]  users: User admin was added
2018-10-13T20:38:37.818Z [DEBUG] messages: Send command: logon. To: 2JKsT_eM5lCJp_KYAAAB
2018-10-13T20:38:37.837Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:37.841Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:38:37.842Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:38:37.845Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:38:38.536Z [DEBUG] io: Client connected:  VkB4dyZGz8Y3DWnqAAAC
2018-10-13T20:38:38.582Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:38.585Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:38:40.516Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:40.520Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:38:40.521Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:38:40.523Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:38:41.133Z [DEBUG] io: Client connected:  glmYXsQgUziedihOAAAD
2018-10-13T20:38:41.179Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:41.182Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:38:44.564Z [DEBUG] commands: Command: getReport_dayReport. From: glmYXsQgUziedihOAAAD
2018-10-13T20:38:44.565Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:38:44.570Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:38:44.578Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-11 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:38:44.582Z [DEBUG] messages: Send data: getReport_dayReport. To: glmYXsQgUziedihOAAAD
2018-10-13T20:38:58.135Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:58.202Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:38:58.205Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:38:58.207Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:38:58.856Z [DEBUG] io: Client connected:  QrW6pAdrUYT314DNAAAE
2018-10-13T20:38:58.907Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:38:58.910Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:39:00.757Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:00.759Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages';
2018-10-13T20:39:00.761Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages' AND users.user_id=1;
2018-10-13T20:39:00.764Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:39:00.788Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:00.790Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/messages/tickets';
2018-10-13T20:39:00.791Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/messages/tickets' AND users.user_id=1;
2018-10-13T20:39:00.794Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:39:01.410Z [DEBUG] io: Client connected:  Xyye__2yJhxNrFn-AAAF
2018-10-13T20:39:01.461Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:01.463Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:39:06.192Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:06.195Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets';
2018-10-13T20:39:06.196Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets' AND users.user_id=1;
2018-10-13T20:39:06.198Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:39:06.270Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:06.274Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:39:06.275Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:39:06.277Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:39:06.913Z [DEBUG] io: Client connected:  -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:06.964Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:06.966Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:39:07.316Z [DEBUG] commands: Command: getTickets. From: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:07.317Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:39:07.321Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:39:07.322Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:07.325Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:39:07.368Z [DEBUG] messages: Send data: getTickets. To: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:07.464Z [DEBUG] commands: Command: getLoadTypes. From: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:07.465Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:39:07.468Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:39:07.468Z [DEBUG] messages: Send data: getLoadTypes. To: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:07.709Z [DEBUG] commands: Command: getOrganizations. From: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:07.710Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:39:07.713Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:39:07.714Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:39:07.716Z [DEBUG] messages: Send data: getOrganizations. To: -9yGhk0GNPOph5hhAAAG
2018-10-13T20:39:12.459Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:12.462Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/tickets/active';
2018-10-13T20:39:12.463Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/tickets/active' AND users.user_id=1;
2018-10-13T20:39:12.465Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:39:13.026Z [DEBUG] io: Client connected:  GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.070Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:13.073Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:39:13.466Z [DEBUG] commands: Command: getTickets. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.466Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTickets'                 AND users.login = 'admin';
2018-10-13T20:39:13.469Z [DEBUG] commands: Granted command  getTickets  for user admin
2018-10-13T20:39:13.470Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:39:13.473Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name            FROM tickets            INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id            INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id            INNER JOIN points p1 ON tickets.load_point_id = p1.point_id            INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id            INNER JOIN states s1 ON p1.state_id = s1.state_id            INNER JOIN states s2 ON p2.state_id = s2.state_id            INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id            INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id            INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id            INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id  WHERE tickets.status_id < 5 ORDER BY tickets.creation_datetime DESC;
2018-10-13T20:39:13.602Z [DEBUG] messages: Send data: getTickets. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.916Z [DEBUG] commands: Command: getTicket. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.916Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicket'                 AND users.login = 'admin';
2018-10-13T20:39:13.919Z [DEBUG] commands: Command: getLoadTypes. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.919Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getLoadTypes'                 AND users.login = 'admin';
2018-10-13T20:39:13.920Z [DEBUG] commands: Granted command  getTicket  for user admin
2018-10-13T20:39:13.921Z [DEBUG] db: DB query: SELECT            tickets.ticket_id,            o1.organization_id AS load_organization_id,            o1.name AS load_organization_name,            o1.full_name AS load_organization_full_name,            o2.organization_id AS unload_organization_id,            o2.name AS unload_organization_name,            o2.full_name AS unload_organization_full_name,            p1.point_id AS load_point_id,            p1.name AS load_point_name,            p1.state_id AS load_point_state_id,            s1.state_name AS load_point_state_name,            p1.locality_id AS load_point_locality_id,            lo1.locality_type AS load_point_locality_type,            lo1.locality_short_type AS load_point_locality_short_type,            p1.locality_name AS load_point_locality_name,            p1.address AS load_point_address,            trim(BOTH FROM s1.state_name || ', ' || lo1.locality_short_type || ' ' || p1.locality_name || ', ' || p1.address) AS load_point_full_address,            p1.notes AS load_point_notes,            p2.point_id AS unload_point_id,            p2.name AS unload_point_name,            p2.state_id AS unload_point_state_id,            s2.state_name AS unload_point_state_name,            p2.locality_id AS unload_point_locality_id,            lo2.locality_type AS unload_point_locality_type,            lo2.locality_short_type AS unload_point_locality_short_type,            p2.locality_name AS unload_point_locality_name,            p2.address AS unload_point_address,            trim(BOTH FROM s2.state_name || ', ' || lo2.locality_short_type || ' ' || p2.locality_name || ', ' || p2.address) AS unload_point_full_address,            p2.notes AS unload_point_notes,            tickets.weight,            tickets.volume,            tickets.load_type_id,            lt.load_type_name,            tickets.notes,            tickets.creator_person_id,            tickets.logist_person_id,            tickets.creation_datetime,            tickets.status_id,            ts.ticket_status_name AS status_name        FROM tickets        INNER JOIN organizations o1 ON tickets.load_organization_id = o1.organization_id        INNER JOIN organizations o2 ON tickets.unload_organization_id = o2.organization_id        INNER JOIN points p1 ON tickets.load_point_id = p1.point_id        INNER JOIN points p2 ON tickets.unload_point_id = p2.point_id        INNER JOIN states s1 ON p1.state_id = s1.state_id        INNER JOIN states s2 ON p2.state_id = s2.state_id        INNER JOIN localities lo1 ON p1.locality_id = lo1.locality_id        INNER JOIN localities lo2 ON p2.locality_id = lo2.locality_id        INNER JOIN tickets_statuses ts ON tickets.status_id = ts.ticket_status_id        INNER JOIN load_types lt ON tickets.load_type_id = lt.load_type_id        WHERE tickets.ticket_id = 1;
2018-10-13T20:39:13.936Z [DEBUG] commands: Command: getOrganizations. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:13.936Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganizations'                 AND users.login = 'admin';
2018-10-13T20:39:13.938Z [DEBUG] messages: Send data: getTicket. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.007Z [DEBUG] commands: Command: getOrganization. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.007Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:39:14.010Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:39:14.011Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 1;
2018-10-13T20:39:14.012Z [DEBUG] messages: Send data: getOrganization. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.041Z [DEBUG] commands: Granted command  getOrganizations  for user admin
2018-10-13T20:39:14.042Z [DEBUG] db: DB query: SELECT * FROM organizations ORDER BY organizations.name;
2018-10-13T20:39:14.044Z [DEBUG] messages: Send data: getOrganizations. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.051Z [DEBUG] commands: Granted command  getLoadTypes  for user admin
2018-10-13T20:39:14.051Z [DEBUG] messages: Send data: getLoadTypes. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.251Z [DEBUG] commands: Command: getOrganization. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.251Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getOrganization'                 AND users.login = 'admin';
2018-10-13T20:39:14.254Z [DEBUG] commands: Granted command  getOrganization  for user admin
2018-10-13T20:39:14.255Z [DEBUG] db: DB query: SELECT * FROM organizations WHERE organization_id = 2;
2018-10-13T20:39:14.258Z [DEBUG] messages: Send data: getOrganization. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.260Z [DEBUG] commands: Command: getPoint. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.260Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:39:14.261Z [DEBUG] commands: Command: getPoint. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.261Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPoint'                 AND users.login = 'admin';
2018-10-13T20:39:14.262Z [DEBUG] commands: Command: getPerson. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.263Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getPerson'                 AND users.login = 'admin';
2018-10-13T20:39:14.263Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:39:14.264Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 1;
2018-10-13T20:39:14.265Z [DEBUG] commands: Granted command  getPoint  for user admin
2018-10-13T20:39:14.307Z [DEBUG] db: DB query: SELECT *, points.name AS name, trim(BOTH FROM s2.state_name || ', ' || l.locality_short_type || ' ' || points.locality_name || ', ' || points.address) AS full_address, o.name AS organization_name    FROM points    INNER JOIN localities l ON points.locality_id = l.locality_id    INNER JOIN states s2 ON points.state_id = s2.state_id    INNER JOIN organizations o ON points.organization_id = o.organization_id    WHERE points.point_id = 2;
2018-10-13T20:39:14.308Z [DEBUG] commands: Granted command  getPerson  for user admin
2018-10-13T20:39:14.308Z [DEBUG] db: DB query: SELECT            *,            trim(BOTH FROM persons.surname || ' ' || persons.name || ' ' || persons.patronymic) AS full_snp        FROM persons        WHERE persons.person_id = 1;
2018-10-13T20:39:14.309Z [DEBUG] messages: Send data: getPoint. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.311Z [DEBUG] messages: Send data: getPerson. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.312Z [DEBUG] commands: Command: getTicketHistory. From: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.312Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getTicketHistory'                 AND users.login = 'admin';
2018-10-13T20:39:14.313Z [DEBUG] messages: Send data: getPoint. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:39:14.315Z [DEBUG] commands: Granted command  getTicketHistory  for user admin
2018-10-13T20:39:14.316Z [DEBUG] db: DB query: SELECT * FROM tickets_history WHERE ticket_id = 1;
2018-10-13T20:39:14.320Z [DEBUG] messages: Send data: getTicketHistory. To: GOzGHXH5A-o9zYdxAAAH
2018-10-13T20:40:30.876Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:40:30.926Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:40:30.927Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:40:30.929Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:40:31.924Z [DEBUG] io: Client connected:  WPJ--DdM5trJ52pPAAAI
2018-10-13T20:40:32.011Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:40:32.014Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:42:16.110Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:42:16.165Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:42:16.169Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:42:16.171Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:42:17.073Z [DEBUG] io: Client connected:  DtnSSBaj1kT_333_AAAJ
2018-10-13T20:42:17.129Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:42:17.132Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:42:58.965Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:42:59.031Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:42:59.033Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:42:59.035Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:42:59.605Z [DEBUG] io: Client connected:  sgzpBSUcsKfq8BOLAAAK
2018-10-13T20:42:59.674Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:42:59.678Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:44:53.299Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:44:53.345Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:44:53.347Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:44:53.348Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:44:54.014Z [DEBUG] io: Client connected:  _J_ii2z800ii5cgmAAAL
2018-10-13T20:44:54.030Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:44:54.033Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:45:11.939Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:45:11.985Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:45:11.987Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:45:11.988Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:45:12.546Z [DEBUG] io: Client connected:  pKM42WKozh90ic1wAAAM
2018-10-13T20:45:12.597Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:45:12.599Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:45:25.206Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:45:25.249Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:45:25.252Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:45:25.254Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:45:25.898Z [DEBUG] io: Client connected:  jsQo9mLHJEwNI_RgAAAN
2018-10-13T20:45:25.942Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:45:25.946Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:46:13.239Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:46:13.284Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:46:13.286Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:46:13.289Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:46:13.822Z [DEBUG] io: Client connected:  _Q-LdZ6P3ss2LDplAAAO
2018-10-13T20:46:13.867Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:46:13.870Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:46:33.124Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:46:33.193Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:46:33.196Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:46:33.198Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:46:33.796Z [DEBUG] io: Client connected:  NFVcAiiqsHCAxG9zAAAP
2018-10-13T20:46:33.853Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:46:33.855Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:47:29.252Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:29.296Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:47:29.297Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:47:29.299Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:47:29.850Z [DEBUG] io: Client connected:  H4PHnAAHYDipo9YbAAAQ
2018-10-13T20:47:29.897Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:29.900Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:47:46.137Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:46.190Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:47:46.193Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:47:46.195Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:47:46.791Z [DEBUG] io: Client connected:  ARaYh1vqsm55QMblAAAR
2018-10-13T20:47:46.845Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:46.847Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:47:54.225Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:54.227Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:47:54.227Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:47:54.229Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:47:54.908Z [DEBUG] io: Client connected:  JlR7J9sTQa22lJZ3AAAS
2018-10-13T20:47:54.964Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:47:54.967Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:49:57.326Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:49:57.378Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:49:57.380Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:49:57.383Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:49:58.107Z [DEBUG] io: Client connected:  qYlmEuSvC7FCc865AAAT
2018-10-13T20:49:58.150Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:49:58.152Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:50:33.588Z [DEBUG] commands: Command: getReport_dayReport. From: qYlmEuSvC7FCc865AAAT
2018-10-13T20:50:33.588Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:50:33.636Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:50:33.636Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-24 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:50:33.639Z [DEBUG] messages: Send data: getReport_dayReport. To: qYlmEuSvC7FCc865AAAT
2018-10-13T20:50:42.311Z [DEBUG] commands: Command: getReport_dayReport. From: qYlmEuSvC7FCc865AAAT
2018-10-13T20:50:42.312Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_dayReport'                 AND users.login = 'admin';
2018-10-13T20:50:42.314Z [DEBUG] commands: Granted command  getReport_dayReport  for user admin
2018-10-13T20:50:42.315Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime < '2018-10-24 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T20:50:42.316Z [DEBUG] messages: Send data: getReport_dayReport. To: qYlmEuSvC7FCc865AAAT
2018-10-13T20:58:07.499Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T20:58:07.511Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T20:58:07.512Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T20:58:07.513Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T20:58:07.821Z [DEBUG] io: Client connected:  kIesOp8suMnSiMD_AAAA
2018-10-13T20:58:07.824Z [DEBUG] messages: Send command: logout. To: kIesOp8suMnSiMD_AAAA
2018-10-13T20:58:07.909Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T20:58:08.776Z [DEBUG] io: Client connected:  PVVgA3l8m9yKt0TdAAAB
2018-10-13T20:58:54.365Z [DEBUG] commands: Command: logon. From: PVVgA3l8m9yKt0TdAAAB
2018-10-13T20:58:54.365Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T20:58:54.406Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T20:58:54.408Z [DEBUG] commands: Logon granted for: admin. From: PVVgA3l8m9yKt0TdAAAB
2018-10-13T20:58:54.409Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T20:58:54.409Z [INFO]  users: User admin was added
2018-10-13T20:58:54.410Z [DEBUG] messages: Send command: logon. To: PVVgA3l8m9yKt0TdAAAB
2018-10-13T20:58:54.426Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:58:54.431Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T20:58:54.434Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T20:58:54.437Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:58:55.058Z [DEBUG] io: Client connected:  tn1KSKxR83m9UHfrAAAC
2018-10-13T20:58:55.107Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:58:55.110Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:58:56.767Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:58:56.772Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T20:58:56.774Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T20:58:56.776Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T20:58:57.425Z [DEBUG] io: Client connected:  IrH9OlRSb51Yv6LqAAAD
2018-10-13T20:58:57.470Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T20:58:57.477Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T20:59:04.784Z [DEBUG] commands: Command: getReport_periodReport. From: IrH9OlRSb51Yv6LqAAAD
2018-10-13T20:59:04.784Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T20:59:04.788Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T20:59:04.788Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: IrH9OlRSb51Yv6LqAAAD
2018-10-13T21:04:09.204Z [DEBUG] commands: Command: getReport_periodReport. From: IrH9OlRSb51Yv6LqAAAD
2018-10-13T21:04:09.204Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:04:09.248Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:04:09.248Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: IrH9OlRSb51Yv6LqAAAD
2018-10-13T21:04:13.928Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:04:13.931Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T21:04:13.933Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T21:04:13.936Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:04:14.701Z [DEBUG] io: Client connected:  xsoUt6h5GRWguEZlAAAE
2018-10-13T21:04:14.763Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:04:14.766Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:04:21.517Z [DEBUG] commands: Command: getReport_periodReport. From: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:04:21.517Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:04:21.519Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:04:21.519Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:05:00.072Z [DEBUG] commands: Command: getReport_periodReport. From: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:05:00.072Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:05:00.120Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:05:00.120Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:05:39.854Z [DEBUG] commands: Command: getReport_periodReport. From: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:06:12.358Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:06:24.116Z [DEBUG] io: Client connected:  6kjr3ZE4EIK_PSjIAAAF
2018-10-13T21:06:24.118Z [DEBUG] io: Client connected:  pLCCCVK9z_cpVPvkAAAG
2018-10-13T21:06:24.121Z [DEBUG] io: Client connected:  1NHCxHv1QPBA9GTzAAAH
2018-10-13T21:06:24.290Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:06:24.290Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: xsoUt6h5GRWguEZlAAAE
2018-10-13T21:06:33.138Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T21:06:33.144Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T21:06:33.145Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T21:06:33.146Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T21:06:33.554Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T21:06:33.697Z [DEBUG] io: Client connected:  3CeR8PDlolfOt9inAAAA
2018-10-13T21:06:33.700Z [DEBUG] messages: Send command: logout. To: 3CeR8PDlolfOt9inAAAA
2018-10-13T21:06:34.619Z [DEBUG] io: Client connected:  2nhYPwJfHkE4C3oYAAAB
2018-10-13T21:06:41.978Z [DEBUG] commands: Command: logon. From: 2nhYPwJfHkE4C3oYAAAB
2018-10-13T21:06:41.979Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T21:06:41.981Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T21:06:41.983Z [DEBUG] commands: Logon granted for: admin. From: 2nhYPwJfHkE4C3oYAAAB
2018-10-13T21:06:41.984Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T21:06:41.984Z [INFO]  users: User admin was added
2018-10-13T21:06:41.984Z [DEBUG] messages: Send command: logon. To: 2nhYPwJfHkE4C3oYAAAB
2018-10-13T21:06:42.004Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:06:42.007Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T21:06:42.009Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T21:06:42.012Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:06:42.644Z [DEBUG] io: Client connected:  QCy7w3TEiJJ8ZbAKAAAC
2018-10-13T21:06:42.689Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:06:42.692Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:06:43.922Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:06:43.924Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T21:06:43.926Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T21:06:43.929Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:06:44.529Z [DEBUG] io: Client connected:  9VOa6M1ijPy2XrZkAAAD
2018-10-13T21:06:44.575Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:06:44.579Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:06:50.827Z [DEBUG] commands: Command: getReport_periodReport. From: 9VOa6M1ijPy2XrZkAAAD
2018-10-13T21:06:50.827Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:06:50.830Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:06:50.830Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: 9VOa6M1ijPy2XrZkAAAD
2018-10-13T21:07:00.974Z [DEBUG] commands: Command: getReport_periodReport. From: 9VOa6M1ijPy2XrZkAAAD
2018-10-13T21:07:43.157Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:08:24.469Z [DEBUG] io: Client connected:  LCHOX2k0OVHIadYpAAAE
2018-10-13T21:08:24.474Z [DEBUG] io: Client connected:  JrDDK_t18TwcbH0LAAAF
2018-10-13T21:08:24.477Z [DEBUG] io: Client connected:  9TZqiMz97vxmmEv9AAAG
2018-10-13T21:10:21.701Z [DEBUG] commands: Denided command  getReport_periodReport  for user admin
2018-10-13T21:10:21.701Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: 9VOa6M1ijPy2XrZkAAAD
2018-10-13T21:10:21.723Z [DEBUG] io: Client connected:  CEV0kr5P1BFJ_vSIAAAH
2018-10-13T21:10:21.726Z [DEBUG] io: Client connected:  VncTe5aeN-Gz6JufAAAI
2018-10-13T21:10:21.732Z [DEBUG] io: Client connected:  8noIePh_P9M3h92sAAAJ
2018-10-13T21:10:21.735Z [DEBUG] io: Client connected:  EaK9r3tBat1PnUXgAAAK
2018-10-13T21:10:21.738Z [DEBUG] io: Client connected:  fzKrUydwSoOCFZl_AAAL
2018-10-13T21:10:30.303Z [DEBUG] commands: Command: getReport_periodReport. From: VncTe5aeN-Gz6JufAAAI
2018-10-13T21:13:21.690Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:13:21.701Z [DEBUG] io: Client connected:  CMS0MXeBfujysAeaAAAM
2018-10-13T21:13:21.706Z [DEBUG] io: Client connected:  0iADQcSu0LzOkYrSAAAN
2018-10-13T21:13:21.709Z [DEBUG] io: Client connected:  Swv2AQuvsi5kQHn9AAAO
2018-10-13T21:13:21.711Z [DEBUG] io: Client connected:  I4XDgx_GFqUP1OlNAAAP
2018-10-13T21:13:21.713Z [DEBUG] io: Client connected:  PP-u4Qb_lBCrjic_AAAQ
2018-10-13T21:13:21.728Z [DEBUG] io: Client connected:  9kCxtgXFkSifxx_QAAAR
2018-10-13T21:13:21.740Z [DEBUG] io: Client connected:  G1iRPZB8sP1LSwpEAAAS
2018-10-13T21:13:28.822Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:14:01.747Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T21:14:01.753Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T21:14:01.754Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T21:14:01.754Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T21:14:02.062Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T21:14:03.628Z [DEBUG] io: Client connected:  IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:03.631Z [DEBUG] messages: Send command: logout. To: IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:15.520Z [DEBUG] commands: Command: getReport_periodReport. From: IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:15.520Z [DEBUG] commands: Denided command  getReport_periodReport . User is undefined.
2018-10-13T21:14:15.520Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:15.555Z [DEBUG] commands: Command: getReport_periodReport. From: IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:15.556Z [DEBUG] commands: Denided command  getReport_periodReport . User is undefined.
2018-10-13T21:14:15.556Z [DEBUG] messages: Send error message: Запрещенная команда: getReport_periodReport. To: IY6hMbv2VanS--TCAAAA
2018-10-13T21:14:18.005Z [DEBUG] io: Client connected:  5xgi4FdOgdKs4goBAAAB
2018-10-13T21:14:24.655Z [DEBUG] commands: Command: logon. From: 5xgi4FdOgdKs4goBAAAB
2018-10-13T21:14:24.656Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T21:14:24.714Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T21:14:24.734Z [DEBUG] commands: Logon granted for: admin. From: 5xgi4FdOgdKs4goBAAAB
2018-10-13T21:14:24.735Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T21:14:24.735Z [INFO]  users: User admin was added
2018-10-13T21:14:24.735Z [DEBUG] messages: Send command: logon. To: 5xgi4FdOgdKs4goBAAAB
2018-10-13T21:14:25.062Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:14:25.066Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T21:14:25.087Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T21:14:25.090Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:14:25.887Z [DEBUG] io: Client connected:  k12EMoz_-HEwsV0qAAAC
2018-10-13T21:14:25.921Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:14:25.923Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:15:00.371Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:00.438Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T21:15:00.440Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T21:15:00.442Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:15:01.062Z [DEBUG] io: Client connected:  pdtVF_CcHvKKMSBaAAAD
2018-10-13T21:15:01.109Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:01.112Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:15:06.764Z [DEBUG] commands: Command: getReport_periodReport. From: pdtVF_CcHvKKMSBaAAAD
2018-10-13T21:15:12.313Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:15:12.321Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:15:45.373Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T21:15:45.380Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T21:15:45.381Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T21:15:45.382Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T21:15:45.632Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T21:15:45.742Z [DEBUG] io: Client connected:  yzyFpD7rLO4zq229AAAA
2018-10-13T21:15:45.745Z [DEBUG] messages: Send command: logout. To: yzyFpD7rLO4zq229AAAA
2018-10-13T21:15:46.782Z [DEBUG] io: Client connected:  wqSRUM4B8hvTIp16AAAB
2018-10-13T21:15:53.242Z [DEBUG] commands: Command: logon. From: wqSRUM4B8hvTIp16AAAB
2018-10-13T21:15:53.242Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T21:15:53.245Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T21:15:53.248Z [DEBUG] commands: Logon granted for: admin. From: wqSRUM4B8hvTIp16AAAB
2018-10-13T21:15:53.249Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T21:15:53.250Z [INFO]  users: User admin was added
2018-10-13T21:15:53.250Z [DEBUG] messages: Send command: logon. To: wqSRUM4B8hvTIp16AAAB
2018-10-13T21:15:53.272Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:53.276Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T21:15:53.279Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T21:15:53.282Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:15:53.920Z [DEBUG] io: Client connected:  JD8CUmQ4ORHG6JLxAAAC
2018-10-13T21:15:53.975Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:53.977Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:15:55.421Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:55.424Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T21:15:55.425Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T21:15:55.427Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:15:56.081Z [DEBUG] io: Client connected:  IwkwXHA-a-13sp2dAAAD
2018-10-13T21:15:56.125Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:15:56.129Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:16:02.726Z [DEBUG] commands: Command: getReport_periodReport. From: IwkwXHA-a-13sp2dAAAD
2018-10-13T21:16:02.727Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:16:02.731Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:19:38.842Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-13T21:19:38.850Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-13T21:19:38.852Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-13T21:19:38.853Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-13T21:19:39.053Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-13T21:19:40.447Z [DEBUG] io: Client connected:  gX6EtxRibCP5Hc6dAAAA
2018-10-13T21:19:40.453Z [DEBUG] messages: Send command: logout. To: gX6EtxRibCP5Hc6dAAAA
2018-10-13T21:19:41.357Z [DEBUG] io: Client connected:  HTJavetiAV1ObCg9AAAB
2018-10-13T21:19:47.006Z [DEBUG] commands: Command: logon. From: HTJavetiAV1ObCg9AAAB
2018-10-13T21:19:47.006Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-13T21:19:47.009Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-13T21:19:47.011Z [DEBUG] commands: Logon granted for: admin. From: HTJavetiAV1ObCg9AAAB
2018-10-13T21:19:47.012Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-13T21:19:47.012Z [INFO]  users: User admin was added
2018-10-13T21:19:47.012Z [DEBUG] messages: Send command: logon. To: HTJavetiAV1ObCg9AAAB
2018-10-13T21:19:47.036Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:19:47.040Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-13T21:19:47.043Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-13T21:19:47.046Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:19:47.663Z [DEBUG] io: Client connected:  b5gXhp-dV8qkHhIpAAAC
2018-10-13T21:19:47.710Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:19:47.714Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:19:49.523Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:19:49.525Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-13T21:19:49.527Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-13T21:19:49.529Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-13T21:19:50.237Z [DEBUG] io: Client connected:  eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:19:50.287Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-13T21:19:50.290Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-13T21:19:58.031Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:19:58.031Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:19:58.035Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:19:58.041Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-08 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-21 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:19:58.082Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:20:09.202Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:20:09.202Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:20:09.273Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:20:09.273Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-08 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-14 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:20:09.279Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:20:12.210Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:20:12.210Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:20:12.213Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:20:12.213Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-08 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-13 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:20:12.215Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:14.380Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:14.381Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:14.439Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:14.439Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-08 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-12 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:14.443Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:18.941Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:18.941Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:18.944Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:18.944Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-08 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-13 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:18.946Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:21.792Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:21.793Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:21.795Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:21.795Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-14 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-13 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:21.797Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:28.223Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:28.223Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:28.226Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:28.227Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-14 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-08 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:28.228Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:29.577Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:29.577Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:29.581Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:29.582Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-14 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-08 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:29.584Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:31.033Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:31.035Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:31.038Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:31.039Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-14 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-08 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:31.041Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:32.765Z [DEBUG] commands: Command: getReport_periodReport. From: eTrxDVT_sNTEM1vlAAAD
2018-10-13T21:21:32.765Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-13T21:21:32.767Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-13T21:21:32.767Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-14 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-08 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-13T21:21:32.769Z [DEBUG] messages: Send data: getReport_dayReport. To: eTrxDVT_sNTEM1vlAAAD
2018-10-14T15:46:13.281Z [DEBUG] db: DB query: SELECT * FROM states ORDER BY state_name
2018-10-14T15:46:13.311Z [DEBUG] db: DB query: SELECT * FROM localities ORDER BY locality_type
2018-10-14T15:46:13.312Z [DEBUG] db: DB query: SELECT * FROM load_types ORDER BY load_type_id
2018-10-14T15:46:13.312Z [DEBUG] db: DB query: SELECT * FROM pages         ORDER BY page_id ASC;
2018-10-14T15:46:14.206Z [DEBUG] db: DB query: SELECT *, permissions.description FROM permissions            INNER JOIN pages ON permissions.owner_page_id = pages.page_id        ORDER BY pages.page_id;
2018-10-14T15:46:14.854Z [DEBUG] io: Client connected:  ttIu_cUuaAZahbiOAAAA
2018-10-14T15:46:20.015Z [DEBUG] commands: Command: logon. From: ttIu_cUuaAZahbiOAAAA
2018-10-14T15:46:20.016Z [DEBUG] db: DB query: SELECT * FROM users WHERE login = 'admin' AND password_hash = '8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918' AND enable = TRUE;
2018-10-14T15:46:20.038Z [DEBUG] db: DB query: SELECT * FROM persons WHERE person_id=1;
2018-10-14T15:46:20.073Z [DEBUG] commands: Logon granted for: admin. From: ttIu_cUuaAZahbiOAAAA
2018-10-14T15:46:20.074Z [DEBUG] users: Add user: admin, SessionID: 7wZRGMCleBIHTL5KBkQrsbUyC0xsSnUF
2018-10-14T15:46:20.074Z [INFO]  users: User admin was added
2018-10-14T15:46:20.074Z [DEBUG] messages: Send command: logon. To: ttIu_cUuaAZahbiOAAAA
2018-10-14T15:46:20.086Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:46:20.112Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/';
2018-10-14T15:46:20.113Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/' AND users.user_id=1;
2018-10-14T15:46:20.114Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:46:20.483Z [DEBUG] io: Client connected:  68jCgdDUh8AZuKFeAAAB
2018-10-14T15:46:22.126Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:46:22.129Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:46:22.130Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:46:22.132Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:46:22.392Z [DEBUG] io: Client connected:  RFdrmqJ2QfkFPktkAAAC
2018-10-14T15:47:46.820Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:47:46.858Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:47:46.860Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:47:46.861Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:47:47.235Z [DEBUG] io: Client connected:  BYHOPaz6yp3TrXLlAAAD
2018-10-14T15:49:06.265Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:49:06.301Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:49:06.302Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:49:06.304Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:49:06.618Z [DEBUG] io: Client connected:  JRTVkNR8ePh7HdtbAAAE
2018-10-14T15:49:24.555Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:49:24.688Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:49:24.690Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:49:24.691Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:49:25.031Z [DEBUG] io: Client connected:  UFNg7Q7b2J6LppA6AAAF
2018-10-14T15:49:54.848Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:49:54.885Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:49:54.886Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:49:54.887Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:49:55.276Z [DEBUG] io: Client connected:  hCP5a8vwHoDeZu14AAAG
2018-10-14T15:51:49.606Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:51:49.729Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:53:02.261Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:02.297Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:53:02.298Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:53:02.299Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:53:02.789Z [DEBUG] io: Client connected:  Br14631ABCTWhAkYAAAH
2018-10-14T15:53:02.835Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:02.837Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:53:21.215Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:21.265Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:53:21.268Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:53:21.269Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:53:21.733Z [DEBUG] io: Client connected:  EZL9R5v6m-72S7ttAAAI
2018-10-14T15:53:21.779Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:21.782Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:53:31.196Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:31.200Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:53:31.201Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:53:31.203Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:53:31.755Z [DEBUG] io: Client connected:  mk9tKblSVeqxfxm5AAAJ
2018-10-14T15:53:31.822Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:31.825Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:53:50.352Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:50.388Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:53:50.389Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:53:50.390Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:53:50.839Z [DEBUG] io: Client connected:  AqLBeHtMt0cGR-4AAAAK
2018-10-14T15:53:50.884Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:53:50.886Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:54:05.546Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:05.583Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:54:05.584Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:54:05.585Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:54:06.086Z [DEBUG] io: Client connected:  dHi7eiNtKPdOK9WGAAAL
2018-10-14T15:54:06.137Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:06.139Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:54:14.013Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:14.016Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:54:14.017Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:54:14.018Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:54:14.460Z [DEBUG] io: Client connected:  VOuWjUDvDQ0NEHxLAAAM
2018-10-14T15:54:14.502Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:14.505Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:54:35.866Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:35.903Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:54:35.904Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:54:35.905Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:54:36.482Z [DEBUG] io: Client connected:  QEf6JkoFRV0cb2mwAAAN
2018-10-14T15:54:36.583Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:54:36.586Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:55:22.388Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:22.435Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:55:22.436Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:55:22.437Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:55:23.040Z [DEBUG] io: Client connected:  -C8GOA_qJAK8uy3GAAAO
2018-10-14T15:55:23.092Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:23.094Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:55:42.901Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:42.948Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:55:42.949Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:55:42.950Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:55:43.429Z [DEBUG] io: Client connected:  wOnUCAk50Ee1JZ4dAAAP
2018-10-14T15:55:43.471Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:43.474Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:55:51.257Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:51.259Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:55:51.260Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:55:51.262Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:55:51.741Z [DEBUG] io: Client connected:  uIFzr-TceJlY8YZ7AAAQ
2018-10-14T15:55:51.782Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:55:51.784Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T15:56:11.677Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:56:11.813Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/reports';
2018-10-14T15:56:11.815Z [DEBUG] db: DB query: SELECT * FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             pages.url='/reports' AND users.user_id=1;
2018-10-14T15:56:11.816Z [DEBUG] db: DB query: SELECT page_id, url, path, title, description, icon, menu_level, menu_index, parent_page_id FROM pages             INNER JOIN groups_permissions ON pages.view_permission_id = groups_permissions.permission_id             INNER JOIN users_groups ON groups_permissions.group_id = users_groups.group_id             INNER JOIN users ON users_groups.user_id = users.user_id         WHERE             users.user_id = 1 ORDER BY page_id ASC;
2018-10-14T15:56:12.408Z [DEBUG] io: Client connected:  eXBJb96IQ449V1g1AAAR
2018-10-14T15:56:12.450Z [DEBUG] db: DB query: SELECT p.permission_id, p.name FROM users AS u            INNER JOIN users_groups ug ON u.user_id = ug.user_id            INNER JOIN groups_permissions gp ON gp.group_id = ug.group_id            INNER JOIN permissions p ON gp.permission_id = p.permission_id        WHERE u.user_id = 1;
2018-10-14T15:56:12.452Z [DEBUG] db: DB query: SELECT * FROM pages WHERE url='/js/luxon.min.js.map';
2018-10-14T16:38:52.469Z [DEBUG] commands: Command: getReport_periodReport. From: eXBJb96IQ449V1g1AAAR
2018-10-14T16:38:52.470Z [DEBUG] db: DB query: SELECT COUNT(*)             FROM commands                 INNER JOIN permissions ON commands.permission_id = permissions.permission_id                 INNER JOIN groups_permissions ON permissions.permission_id = groups_permissions.permission_id                 INNER JOIN groups ON groups_permissions.group_id = groups.group_id                 INNER JOIN users_groups ON groups.group_id = users_groups.group_id                 INNER JOIN users ON users.user_id = users_groups.user_id             WHERE                 commands.name = 'getReport_periodReport'                 AND users.login = 'admin';
2018-10-14T16:38:52.543Z [DEBUG] commands: Granted command  getReport_periodReport  for user admin
2018-10-14T16:38:52.549Z [DEBUG] db: DB query: SELECT p.person_id,           p.surname,           p.name,           p.patronymic,           tmp.organization_id,           tmp.organization_name,           tmp.weight_sum,           tmp.volume_sum,           tmp.count_ttl    FROM (    SELECT t.creator_person_id,           o.name AS organization_name,            o.organization_id,           COUNT(t.creator_person_id) AS count_ttl,           SUM(t.weight)              AS weight_sum,           SUM(volume)                AS volume_sum    FROM tickets AS t             LEFT JOIN persons_organizations AS po ON t.creator_person_id = po.person_id             LEFT JOIN organizations AS o ON po.organization_id = o.organization_id    WHERE t.status_id IN (1, 2)      AND t.creation_datetime > '2018-10-12 00:00:00 +3:00'      AND t.creation_datetime < '2018-10-13 23:59:59 +3:00'    GROUP BY (t.creator_person_id, o.name, o.organization_id) ) AS tmp    JOIN persons AS p ON tmp.creator_person_id = p.person_id
2018-10-14T16:38:52.553Z [DEBUG] messages: Send data: getReport_dayReport. To: eXBJb96IQ449V1g1AAAR
